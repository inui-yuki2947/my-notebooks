# Gitその他

## diff

### コマンド

| コマンド                                                     | 概要                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| `git diff [--] [パス]`                                       | （指定したパスについて）インデックスからワークツリーへの差分を表示する。 |
| `git diff コミット [--] [パス]`                              | （指定したパスについて）指定したコミットからワークツリーへの差分を表示する。 |
| `git diff コミット1 コミット2 [--] [パス]`<br />`git diff [コミット1]..[コミット2] [--] [パス]` | （指定したパスについて）コミット1からコミット2への差分を表示する。 |
| `git diff [コミット1]...[コミット2] [--] [パス]`             | （指定したパスについて）2つのコミットの先祖から、コミット2への差分を表示する。<br />（`git diff $(git merge-base コミット1 コミット2) コミット2`と同義） |

### オプション

| オプション    | 概要                                                      |
| ------------- | --------------------------------------------------------- |
| `--name-only` | ファイル名のみ出力する。                                  |
| `--exit-code` | 差分があれば`1`、なければ`0`で終了ステータスを返す。      |
| `--quiet`     | `--exit-code`オプションを、標準出力をしない形で適用する。 |

## rm

### コマンド

| コマンド          | 概要                                                         |
| ----------------- | ------------------------------------------------------------ |
| `git rm ファイル` | 指定したファイルを、ワークツリー・インデックスから削除する。 |

### オプション

| オプション | 概要                                         |
| ---------- | -------------------------------------------- |
| `--cached` | インデックスからのみ、ファイルを削除できる。 |

## clean

### コマンド

| コマンド           | 概要                             |
| ------------------ | -------------------------------- |
| `git clean [パス]` | 管理対象外のファイルを削除する。 |

### オプション

| オプション      | 概要                           |
| --------------- | ------------------------------ |
| `-f, --force`   | 削除を確定する。               |
| `-n, --dry-run` | ドライランする。               |
| `-d`            | ディレクトリも含めて削除する。 |

## config

### コマンド

| コマンド                 | 概要                       |
| ------------------------ | -------------------------- |
| `git config -l, --list`  | 設定項目の一覧を表示する。 |
| `git config 設定項目`    | 設定項目の値を表示する。   |
| `git config 設定項目 値` | 設定項目に値を設定する。   |

### オプション

| オプション | 概要                             | 設定ファイル             |
| ---------- | -------------------------------- | ------------------------ |
| `--system` | 全ユーザーの全リポジトリの設定   | `/etc/gitconfig`         |
| `--global` | 各ユーザーの全リポジトリの設定   | `~/.gitconfig`           |
| `--local`  | 各リポジトリの設定（デフォルト） | `リポジトリ/.git/config` |

### 設定項目

| 設定         | 概要           |
| ------------ | -------------- |
| `user.name`  | ユーザー名     |
| `user.email` | メールアドレス |

## rev-parse

### コマンド

| コマンド                                | 概要                         |
| --------------------------------------- | ---------------------------- |
| `git rev-parse ブランチ名`              | ハッシュ値を表示する。       |
| `git rev-parse --abbrev-ref ブランチ名` | 正式なブランチ名を表示する。 |

## gitignore

### 概要

- `.gitignore`ファイルには、Git管理に含めないファイルを記述する。
- 値がスラッシュから始まらない場合、全サブディレクトリの同名ファイル・ディレクトリが除外される。
- あとからgitignoreを追加する場合は、`git rm --cached`を行う必要がある。
  ただしその場合、それをプルした他ユーザーは、そのファイルが消えてしまう。
  [.gitignoreを後から設定し、git管理から除外する方法 - Qiita](https://qiita.com/yutosa3/items/25ab031c8061e8c9a4c4)

## submodule

### コマンド

| コマンド               | 概要                                             |
| ---------------------- | ------------------------------------------------ |
| `git submodule`        | サブモジュール一覧を表示する。                   |
| `git sudmodule update` | サブモジュールを親で指定したコミットに更新する。 |
