# テキスト/XML/XPath

## 共通

### 参考資料

- [XPath | MDN](https://developer.mozilla.org/ja/docs/Web/XPath)
- [クローラ作成に必須！XPATHの記法まとめ - Qiita](https://qiita.com/rllllho/items/cb1187cec0fb17fc650a)

## 基本

### 記法

| 記法           | 概要                     |
| -------------- | ------------------------ |
| `/`            | ルート要素。             |
| `//`           | 任意の要素。             |
| `要素1/要素2`  | 要素1の直下にある要素2。 |
| `要素1//要素2` | 要素1の子孫である要素2。 |

## 述語

### 記法

| 記法                                      | 概要                         |
| ----------------------------------------- | ---------------------------- |
| `要素[条件]`<br />`要素[条件1][条件2]...` | 指定した条件に合致する要素。 |

### 条件

| 記法              | 概要                                          |
| ----------------- | --------------------------------------------- |
| `n`               | n番目であるもの。（`position() = n`の省略形） |
| `not 条件`        | 条件の否定。                                  |
| `条件1 and 条件2` | AND条件。                                     |
| `条件1 or 条件2`  | OR条件。                                      |

## 属性

### 記法

| 記法      | 概要                         |
| --------- | ---------------------------- |
| `@属性名` | 当該要素の指定した属性の値。 |

## 関数

### 記法

| 記法                       | 概要                                                |
| -------------------------- | --------------------------------------------------- |
| `text()`                   | 当該要素のテキスト。                                |
| `position()`               | 当該要素が何番目であるか。（インデックスは1始まり） |
| `contains(対象, 検索対象)` | 対象に検索対象が含まれるかどうか。                  |
