# AWS/暗号化とPKI/AWS KMS

## 共通

### 概要

- **AWS Key Management Service（AWS KMS）**は、AWS上で鍵管理を提供するマネージドサービスである。
- [AWS KMS の概念 - AWS Key Management Service](https://docs.aws.amazon.com/ja_jp/kms/latest/developerguide/concepts.html)

### 暗号化方式

| 種類                           | 概要                                                         |
| ------------------------------ | ------------------------------------------------------------ |
| 対称暗号化（共通鍵暗号方式）   | 1つのキーを使った暗号化。                                    |
| 非対称暗号化（公開鍵暗号方式） | 公開鍵と秘密鍵を使った暗号化。<br />後発のサービスでセキュリティ性が高い |

- **エンベロープ暗号化**は、データキーでプレーンテキストデータを暗号化してから、そのデータキーを別のキーで暗号化する手法である。

### CDK・CMK

| 名前                          | 概要                                                         |
| ----------------------------- | ------------------------------------------------------------ |
| カスタマーデータキー（CDK）   | データを暗号化するためのキー                                 |
| カスタマーマスターキー（CMK） | CDKを暗号化するためのキー<br />有効化・**無効化**・削除が可能である。 |

- **キーポリシー**を設定することで、CMKに対するアクセス制御が可能である。

### キーのローテーション

- AWS KMSでは、365日に1度キーマテリアルをローテーションする。
- BYOK（Bring Your Own Key）を使用すると、キーの自動ローテーションは使用できない。
