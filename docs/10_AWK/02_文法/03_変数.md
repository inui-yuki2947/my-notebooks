# AWK/文法/変数

## 定義・代入

| 書式          | 概要                 |
| ------------- | -------------------- |
| `変数名 = 値` | 変数に値を代入する。 |

## 定義済み変数

| 分類       | 書式   | 概要                                                         | デフォルト値 |
| ---------- | ------ | ------------------------------------------------------------ | ------------ |
| フィールド | `$0`   | 行全体                                                       |              |
| フィールド | `$n`   | 行を空白文字で区切ったn番目のフィールド。                    |              |
| 区切り文字 | `FS`   | 入力時のフィールドの区切り文字 ※1                            | 半角スペース |
| 区切り文字 | `OFS`  | 出力時のフィールドの区切り文字                               | 半角スペース |
| 区切り文字 | `FPAT` | フィールドとして扱う正規表現 ※2<br />これを指定する場合、区切り文字は無視される。<br />（GNU拡張のみ有効） |              |
| その他     | `NR`   | 現在処理しているレコード番号（行番号）                       |              |
| その他     | `NF`   | 現行レコードのフィールドの数                                 |              |

- ※1 区切り文字を`*, *`などとして、区切り文字周りのスペースを除去するテクニックがある。
- ※2 ダブルクォーテーションで囲われたCSVなどを扱う場合は、`FPAT`として`([^,]*)|(\"[^\"]*\")`を指定するとよい。
  （空文字にも対応するため、参考資料の正規表現の`+`を`*`にしている）
  [GNU AWKでCSVファイルを楽々あつかう組込変数FPATと、関数のインダイレクト呼び出し (1/2)|CodeZine（コードジン）](https://codezine.jp/article/detail/8323)
