# テキスト/JSON,YAML/jq

## インストール

### Mac

```bash
brew install jq
```

## jq

### コマンド

| コマンド                               | 概要                                                         |
| -------------------------------------- | ------------------------------------------------------------ |
| `jq jq表現`                            | 標準入力について、jq表現を適用する。                         |
| `jq jq表現 ファイル名1 ファイル名2...` | 指定した（全ての）ファイルの内容について、jq表現を適用する。 |

- 入力となるJSONの文字列としては、通常のJSON文字列のほか、
  連続したJSON文字列（例：`{"name":"Yamada"}{"name":"Suzuki"}`）を渡すことも可能。

### オプション

| 分類   | オプション             | 概要                                                         |
| ------ | ---------------------- | ------------------------------------------------------------ |
| 入力   | `-s, --slurp`          | 連続したJSON文字列（例：`{"name":"Yamada"}{"name":"Suzuki"}`）を<br />1つの配列に変換してから、jq表現を適用する。 |
| 入力   | `-R, --raw-input`      | 各行を文字列として解釈する。<br />`-s`オプションと組み合わせると、全ての入力を単一の長い文字列として解釈する。 |
| 出力   | `-r`                   | 出力時、両端のダブルクォーテーションを除去する。             |
| 出力   | `-c, --compact-output` | 出力時、各要素を1行で出力する。                              |
| 出力   | `--tab`                | 出力時、インデントとして、タブ文字を使用する。（デフォルトはスペース） |
| 出力   | `--indent 数字`        | 出力時、インデント幅を指定した幅にする。（デフォルトは2）    |
| その他 | `-e, --exit-status`    | 結果が`false`または`null`の場合に、終了ステータス`1`を返す。 |

## 参考資料

- [jq Manual (development version)](https://stedolan.github.io/jq/manual/)
- [jq コマンドを使う日常のご紹介 - Qiita](https://qiita.com/takeshinoda@github/items/2dec7a72930ec1f658af)
- [とほほのjq入門 - とほほのWWW入門](https://www.tohoho-web.com/ex/jq.html)
