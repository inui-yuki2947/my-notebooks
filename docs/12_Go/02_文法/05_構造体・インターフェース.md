# Go/文法/構造体・インターフェース

## 構造体

### 概要

- 構造体は値型の一種で、各フィールドは型に合わせた初期値を取る。
- 構造体を参照渡ししたい場合は、ポインタ型にして使う。

### struct

- `struct`は、構造体を定義する。（基本的に`type`と組み合わせて使う）

  ```go
  type 構造体名 struct {
    [フィールド名1] 型1
    [フィールド名2] 型2
    ...
  }
  ```

- フィールド名省略時は、型名（プリフィックスを除く）となる。
- フィールド名を`_`とすると、無名フィールド（参照も代入もできないフィールド）となる。

### タグ

- 構造体には、「タグ」というフィールドのメタ情報を追加できる。

  ```go
  struct {
    [フィールド名1] 型1 "タグ1"
    [フィールド名2] 型2 "タグ2"
    ...
  }
  ```

### 生成（フィールド名未指定）

- 書式

  ```go
  構造体名{値1, 値2, ...}
  ```

- フィールドの数が合っていなければ、コンパイルエラーとなる。

### 生成（フィールド名指定）

- 書式

  ```go
  構造体名{フィールド名1: 値1, フィールド名2: 値2, ...}
  ```

- フィールドは一部だけ指定することができる。
- この書式が推奨である。

### コンストラクタ

- コンストラクタは存在しないが、`New型名`という関数で実装することが多い。

### 参照

- フィールド名省略時は、一意に定まる場合に限り、中間フィールドを省略してアクセスできる。

### 埋込み型

- 構造体の中に別の構造体を埋め込むと、クラスの継承のようなことができる。
  [埋め込み型としての構造体 ( Goは継承を使わない ) - Qiita](https://qiita.com/keiya01/items/435890473465a9b6c470)

  ```go
  構造体名1 struct {
    構造体名2
    ...
  }
  ```

## インターフェース

### 概要

- インターフェースは、あるメソッドを持つ型を表す。

### 定義

- 書式

  ```go
  interface {
    メソッド名1(引数1) 戻り値の型1
    メソッド名2(引数2) 戻り値の型2
    ...
  }
  ```

- インターフェースの中にインターフェースを含むこともできる。

### interface{}型

- `interface{}`型は、実装すべきメソッドが一つもないインターフェース＝**全ての型と互換性を持つ型**である。
