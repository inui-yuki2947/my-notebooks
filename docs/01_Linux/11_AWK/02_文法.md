# Linux/AWK/文法

## 共通

### 記法

| 記法                    | 概要                                               | 例                           |
| ----------------------- | -------------------------------------------------- | ---------------------------- |
| `パターン {アクション}` | パターンに当てはまる行について、アクションを行う。 | `$5 >= 1000000 { print $2 }` |
| `パターン`              | パターンに当てはまる行について、行全体を出力する。 |                              |
| `{アクション}`          | 全ての行について、アクションを行う。               |                              |
| `BEGIN {アクション}`    | 処理前にアクションを行う。                         |                              |
| `END {アクション}`      | 処理後にアクションを行う。                         |                              |

## 変数

### 記法

| 記法  | 概要                                      | デフォルト値 |
| ----- | ----------------------------------------- | ------------ |
| `$0`  | 行全体                                    |              |
| `$n`  | 行を空白文字で区切ったn番目のフィールド。 |              |
| `NR`  | 現在処理しているレコード番号（行番号）    |              |
| `FS`  | 入力時のフィールドの区切り文字            | 半角スペース |
| `OFS` | 出力時のフィールドの区切り文字            | 半角スペース |

## パターン

### 記法

| 記法         | 概要                     | 例              |
| ------------ | ------------------------ | --------------- |
| `比較式`     | 比較式を評価する。       | `$5 >= 1000000` |
| `/正規表現/` | 拡張正規表現を評価する。 | `/^l/`          |

### 記法（パターンの組み合わせ）

| 書式                   | 概要                       |
| ---------------------- | -------------------------- |
| `パターン && パターン` | AND条件で評価する。        |
| `パターン ｜｜ パターン` | OR条件で評価する。         |
| `! パターン`           | パターンの否定で評価する。 |

## スクリプトファイル

### シバン

```text
#!/usr/bin/awk -f
```
