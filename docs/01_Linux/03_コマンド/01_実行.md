# Linux/コマンド/実行

## 共通

### コマンドの種類

| コマンドの種類 | 概要                                     | 例             | マニュアル |
| -------------- | ---------------------------------------- | -------------- | ---------- |
| 内部コマンド   | シェル自体に埋め込まれたコマンド         | `cd`, `echo`   | `help`     |
| 外部コマンド   | 独立したプログラムとして存在するコマンド | `find`, `gzip` | `man`      |

### 優先順

- コマンドは、以下の優先順で実行される。

  1. エイリアス
  2. 内部コマンド
  3. 環境変数`PATH`配下のコマンド（左側から優先）

### 環境変数

| 環境変数 | 概要                                                         | 例                         |
| -------- | ------------------------------------------------------------ | -------------------------- |
| `PATH`   | 指定したディレクトリのファイルは、ファイル名のみを指定して実行できる。<br />（サブディレクトリは対象外）<br />ディレクトリは、`:`区切りで複数指定できる。 | `任意のパス:/usr/bin:/bin` |

## bash

### コマンド

| コマンド                     | 概要                                           |
| ---------------------------- | ---------------------------------------------- |
| `bash`                       | **子プロセス**で、標準入力を実行する。         |
| `bash ファイル名 [引数...]`  | **子プロセス**で、指定したファイルを実行する。 |
| `bash -c コマンド [引数...]` | **子プロセス**で、コマンドを実行する。         |

## eval, exec

### コマンド

| コマンド                  | 概要                                                         |
| ------------------------- | ------------------------------------------------------------ |
| `eval コマンド [引数...]` | **カレントシェル**で、コマンドを実行する。<br />変数の値にパイプやリダイレクトを含む場合も、正常に解釈される。 |
| `exec コマンド [引数...]` | **現在のプロセス**で、コマンドを実行する。                   |

### 参考資料

- [技術メモメモ: シェルスクリプトで変数に入れたコマンドを実行する方法の比較(evalコマンドなどの動作比較)](https://tech-mmmm.blogspot.com/2017/11/eval.html)

## builtin, command

### コマンド

| コマンド           | 概要                                               |
| ------------------ | -------------------------------------------------- |
| `builtin コマンド` | 内部コマンドから、コマンドを探して実行する。       |
| `command コマンド` | 内部コマンドとPATHから、コマンドを探して実行する。 |

## source

### コマンド

| コマンド                                                    | 概要                                                         |
| ----------------------------------------------------------- | ------------------------------------------------------------ |
| `. ファイル名 [引数...]`<br />`source ファイル名 [引数...]` | **カレントシェル**で、指定したファイルを実行する。           |
| `ファイル名 [引数...]` ※1                                   | **子プロセス**で、指定したファイルを実行する。<br />（ファイルの実行権限が必要） |

- ※1 ファイルがカレントディレクトリにある場合は、`./ファイル名 [引数...]`とする必要がある。
