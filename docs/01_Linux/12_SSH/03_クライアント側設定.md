# Linux/SSH/クライアント側設定

## ~/.ssh/config

### ファイル

| ファイル              | 概要                                          |
| --------------------- | --------------------------------------------- |
| `/etc/ssh/ssh_config` | SSHクライアントの設定を行う。（システム全体） |
| `~/.ssh/config`       | SSHクライアントの設定を行う。（ユーザー固有） |

### 書式

```text
Host 接続名
  HostName ホスト名
  User ユーザー名
  Port ポート番号
  IdentityFile 公開鍵ファイル
```

- `IdentityFileの値`、`IdentityFileの値.pub`は、各コマンドでのデフォルトの秘密鍵・公開鍵ファイルとなる。
  （通常は、`~/.ssh/id_rsa`, `~/.ssh/id_rsa.pub`）

## ssh-keygen

### コマンド

|コマンド|概要|
|---|---|
|`ssh-keygen`|公開鍵と秘密鍵のペアを作成する。|

### オプション

|オプション|概要|
|---|---|
|`-f ファイル名`|ファイルを指定する。|
|`-p`|パスフレーズを変更する。|
|`-t 暗号化形式`|暗号化形式を指定できる。（デフォルトは`rsa`）|

- 秘密鍵のパーミッションは`600`にしておかないとエラーが出る。

## ssh-agent

### 概要

- ssh-agentは、パスフレーズの入力を代わりに行う。

### 起動

- ssh-agentの起動方法はいくつか存在する。
  [【SSH】ssh-agent の使い方 – ラボラジアン](https://laboradian.com/how-to-use-ssh-agent/)

  ```bash
  ssh-agent bash
  ```

### コマンド

|コマンド|概要|
|---|---|
|`ssh-add 秘密鍵ファイル`|秘密鍵を登録する。|
