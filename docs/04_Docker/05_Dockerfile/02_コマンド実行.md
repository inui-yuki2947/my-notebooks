# Docker/Dockerfile/コマンド実行

## RUN

### 記法

| 記法           | 概要                                           |
| -------------- | ---------------------------------------------- |
| `RUN コマンド` | イメージ構築時に実行するOSコマンドを指定する。 |

## ENTRYPOINT, CMD

### 記法

| 記法                  | 概要                                                         |
| --------------------- | ------------------------------------------------------------ |
| `ENTRYPOINT コマンド` | コンテナ起動時に**実行するコマンド**を指定する。             |
| `CMD コマンド`        | コンテナ起動時の**コマンドライン引数のデフォルト値**を指定する。 |

- `ENTRYPOINT, CMD`句は、それぞれDockerfile内で1度しか使えない。

### コンテナ起動時に実行されるコマンド

| ENTRYPOINT句 | 実行されるコマンド                           |
| ------------ | -------------------------------------------- |
| なし         | コマンドライン引数またはCMD句                |
| あり         | ENTRYPOINT句 + コマンドライン引数またはCMD句 |

- [DockerfileのCMDとENTRYPOINTを改めて解説する - Qiita](https://qiita.com/uehaj/items/e6dd013e28593c26372d)

### 記法（コマンド）

| 記法                                               | 名称             | その他                                                   |
| -------------------------------------------------- | ---------------- | -------------------------------------------------------- |
| `["コマンド", "引数1", ...]`<br />`["引数1", ...]` | exec形式（推奨） | 文字列内のシェル変数は、変数展開されない。               |
| `コマンド パラメータ1 ...`                         | shell形式        | 指定したコマンドは、`/bin/sh -c`が付与されて実行される。 |
