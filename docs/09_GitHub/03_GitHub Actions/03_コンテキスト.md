# GitHub/GitHub Actions/コンテキスト

## 共通

- [Contexts - GitHub Docs](https://docs.github.com/en/actions/learn-github-actions/contexts)

## github

### 記法

| 記法                | 型             | 概要                                                         |
| ------------------- | -------------- | ------------------------------------------------------------ |
| `github`            | オブジェクト型 | ワークフロー実行・イベントに関する情報。                     |
| `github.repository` | 文字列型       | ワークフローが実行されたリポジトリ名。（例：`Codertocat/Hello-World`） |
| `github.ref`        | 文字列型       | ワークフローが実行されたブランチまたはタグのref。            |
| `github.ref_name`   | 文字列型       | ワークフローが実行されたブランチまたはタグの名前。           |
| `github.base_ref`   | 文字列型       | 当該ブランチの`base_ref`。<br />（`pull_request`, `pull_request_target`イベントでのみ使用可能） |
| `github.head_ref`   | 文字列型       | 当該ブランチの`head_ref`。<br />（`pull_request`, `pull_request_target`イベントでのみ使用可能） |
| `github.event`      | オブジェクト型 | イベントに関する情報。                                       |

- `push`イベントなどでブランチ名を取得したい場合は、下記を参照。
  [How to get the current branch within Github Actions? - Stack Overflow](https://stackoverflow.com/questions/58033366/how-to-get-the-current-branch-within-github-actions)

## env

### 記法

| 記法             | 型             | 概要                   |
| ---------------- | -------------- | ---------------------- |
| `env`            | オブジェクト型 | 環境変数に関する情報。 |
| `env.環境変数名` | 文字列型       | 指定した環境変数の値。 |

## secrets

### 記法

| プロパティ             | 型             | 概要                                             |
| ---------------------- | -------------- | ------------------------------------------------ |
| `secrets`              | オブジェクト型 | シークレット情報。                               |
| `secrets.GITHUB_TOKEN` | 文字列型       | 各ワークフローで自動的に生成されたトークンの値。 |
| `secrets.変数名`       | 文字列型       | 指定したシークレット変数の値。                   |

- 「リポジトリのSettings -> Secrets -> Actions」でシークレット情報を登録すると、当該リポジトリでそのシークレット情報を使用できる。

## inputs

### 記法

| プロパティ      | 型                                 | 概要               |
| --------------- | ---------------------------------- | ------------------ |
| `inputs`        | オブジェクト型                     | 入力情報。         |
| `inputs.変数名` | 文字列型<br />数値型<br />真偽値型 | 指定した変数の値。 |

## job

### 記法

| 記法  | 型             | 概要                 |
| ----- | -------------- | -------------------- |
| `job` | オブジェクト型 | ジョブに関する情報。 |

## steps

### 記法

| 記法                       | 型             | 概要                               |
| -------------------------- | -------------- | ---------------------------------- |
| `steps`                    | オブジェクト型 | ステップに関する情報。             |
| `steps.ステップID`         | オブジェクト型 | 指定したステップに関する情報。     |
| `steps.ステップID.outputs` | オブジェクト型 | 指定したステップで出力された情報。 |
