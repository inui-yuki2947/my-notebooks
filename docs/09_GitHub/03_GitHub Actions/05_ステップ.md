# GitHub/GitHub Actions/ステップ

## 基本

### プロパティ

| プロパティ                              | 型                                  | 概要                                         |
| --------------------------------------- | ----------------------------------- | -------------------------------------------- |
| `jobs.ジョブID.steps[].id`              | 文字列型                            | ステップの識別子。                           |
| `jobs.ジョブID.steps[].name`            | 文字列型                            | ステップの表示名。                           |
| `jobs.ジョブID.steps[].timeout-minutes` | 数値型                              | ステップのタイムアウト時間（分）。           |
| `jobs.ジョブID.steps[].env`             | オブジェクト型<br />（Key/Value型） | 環境変数に設定する値。（ステップ内スコープ） |

## 条件

### プロパティ

| プロパティ                                | 型       | 概要                                                         |
| ----------------------------------------- | -------- | ------------------------------------------------------------ |
| `jobs.ジョブID.steps[].if`                | 文字列型 | ステップの実行前に成功を待機する、条件式。                   |
| `jobs.ジョブID.steps[].continue-on-error` | 真偽値型 | ステップが失敗した場合でも、ジョブを成功扱いにするか。<br />（デフォルトは`FALSE`） |

## 再利用

### プロパティ

| プロパティ                   | 型                                  | 概要                                                         |
| ---------------------------- | ----------------------------------- | ------------------------------------------------------------ |
| `jobs.ジョブID.steps[].uses` | 文字列型                            | 使用するアクション。                                         |
| `jobs.ジョブID.steps[].with` | オブジェクト型<br />（Key/Value型） | アクションで必要となる環境変数に設定する値。<br />変数名の先頭には`INPUT_`が付与され、大文字に変換される。 |

### 使用するアクション

| 使用するアクション            | 例                            | 概要                                                   |
| ----------------------------- | ----------------------------- | ------------------------------------------------------ |
| `{owner}/{repo}@{ref}`        | `actions/heroku@main`         | 指定した公開リポジトリのアクション。                   |
| `{owner}/{repo}/{path}@{ref}` | `actions/aws/ec2@main`        | 指定した公開リポジトリのサブディレクトリのアクション。 |
| `./path/to/dir`               | `./.github/actions/my-action` | 当該リポジトリのアクション。                           |

## シェル

### プロパティ

| プロパティ                    | 型       | 概要                       |
| ----------------------------- | -------- | -------------------------- |
| `jobs.ジョブID.steps[].run`   | 文字列型 | シェルで実行するコマンド。 |
| `jobs.ジョブID.steps[].shell` | 文字列型 | 使用するシェルの名前。     |

## その他

- カレントディレクトリは、`/home/runner/work/リポジトリ名/リポジトリ名`となる？
- デフォルトでは、リポジトリ（内のファイル）は扱えない。
- GitHub CLIはデフォルトでインストールされており、環境変数`GH_TOKEN`を設定すれば使用することが可能。
