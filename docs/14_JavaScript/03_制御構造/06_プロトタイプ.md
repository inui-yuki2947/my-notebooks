# JavaScript/制御構造/プロトタイプ

## 共通

### 概要

- JavaScriptでは、クラスはなく、プロトタイプという概念が存在する。
- JavaScriptでは、**関数（コンストラクタ）**に、クラスとしての役割を与えている。

## コンストラクタ

### 記法

| 記法                                                  | 概要                                                   |
| ----------------------------------------------------- | ------------------------------------------------------ |
| `function コンストラクタ名(引数1, 引数2, ...) {処理}` | コンストラクタを定義する。                             |
| `new コンストラクタ(引数1, 引数2, ...)`               | コンストラクタを呼び出し、インスタンス化する。         |
| `オブジェクト.construter`                             | オブジェクトの元となったコンストラクタ（関数）を返す。 |

- コンストラクタでは、プロパティの初期化や、メソッドの定義などを行う。
- コンストラクタでは、戻り値を返す必要はない。
- コンストラクタとして、アロー関数は使用できない。

### 例

```js
var Member = function (firstName, lastName) {
  this.firstName = firstName
  this.lastName = lastName
  this.getName = function () {
    return this.lastName + this.firstName
  }
}

var member = new Member('太郎', '山田')
```

## プロトタイプ

### 記法

| 記法                       | 概要                                                         |
| -------------------------- | ------------------------------------------------------------ |
| `コンストラクタ.prototype` | **生成されたインスタンスから**、共通で参照できるオブジェクト。 |

### 例

```js
var Member2 = function (firstName, lastName) {
  this.firstName = firstName
  this.lastName = lastName
}
Member2.prototype.getName = function () {
  return this.lastName + this.firstName
}
var member2 = new Member2('太郎', '山田')
```

### プロトタイプを使用するメリット

- インスタンス生成のたびにメソッドを定義しなくて済むので、メモリの使用量が少なくなる。
- プロトタイプオブジェクトへの追加・変更を、リアルタイムに認識できる。

### プロトタイプチェーン

- プロトタイプにインスタンスを設定することで、インスタンス同士に継承関係を作ることができる。（プロトタイプチェーン）
