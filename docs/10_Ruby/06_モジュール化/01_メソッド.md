# Ruby/モジュール化/メソッド

## 共通

### 種類

| 種類                 | 概要                                               |
| -------------------- | -------------------------------------------------- |
| インスタンスメソッド | インスタンス（オブジェクト）に定義されたメソッド。 |
| クラスメソッド       | クラスに定義されたメソッド。                       |
| 関数的メソッド       | トップレベルで定義されたメソッド。                 |

## 定義

### 記法

| 記法  | 概要                 |
| ----- | -------------------- |
| 記法1 | メソッドを定義する。 |

- 書式1

  ```ruby
  def メソッド名(引数1, ...)
    処理
  end
  ```

- 真偽値を返すメソッドは、名前の末尾に`?`を付けるのが慣例。

### 記法（引数）

| 記法                   | 概要                                           |
| ---------------------- | ---------------------------------------------- |
| `引数 = デフォルト値`  | デフォルト値を設定した引数。                   |
| `*引数`                | 可変長引数。                                   |
| `引数: [デフォルト値]` | キーワード引数。（任意の順番で指定できる引数） |
| `**引数`               | 定義されていないキーワード引数を受け取る引数。 |
| `&引数`                | ブロックをProcオブジェクトに変換した引数。     |

### 記法（メソッド内）

| 記法               | 概要                                                         |
| ------------------ | ------------------------------------------------------------ |
| `return 値`        | （値を返して）メソッドを終了する。<br />当メソッドを呼び出さない場合は、メソッドの最後に得られた戻り値を返す。 |
| `yield 引数1, ...` | メソッドに与えられたブロックを実行する。                     |

## 呼び出し

### 記法

| 記法                                                         | 概要                 |
| ------------------------------------------------------------ | -------------------- |
| `オブジェクト.メソッド名(引数1, ...)`<br />`オブジェクト.メソッド名 引数1, ...` | メソッドを呼び出す。 |

### 記法（引数）

| 記法       | 概要                                 |
| ---------- | ------------------------------------ |
| `引数: 値` | キーワード引数またはハッシュの引数。 |
| ``*配列``  | スプレッド展開を行う引数。           |

- その他、シンボルをキーとするハッシュをキーワード引数として渡すこともできる。

## ブロックつきメソッド呼び出し

### 記法

| 記法                                                         | 概要                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| `オブジェクト.メソッド名(引数1, ...) do ｜変数1, ...｜ 処理 end`<br />`オブジェクト.メソッド名 引数1, ... do ｜変数1, ...｜ 処理 end` | ブロックつきでメソッドを呼び出す。<br />（複数行の場合はこちらが推奨） |
| `オブジェクト.メソッド名(引数1, ...) {｜変数1, ...｜ 処理}` ※1 | ブロックつきでメソッドを呼び出す。<br />（単一行の場合はこちらが推奨） |
| `オブジェクト.メソッド名(引数1, ..., &:メソッド名)`          | 指定したメソッドをブロックとしてメソッドを呼び出す。         |

- ※1 メソッドの引数がない場合のみ、`()`を省略できる。

- [Ruby初心者を脱した人が悩みがちな、ちょっと特殊な記法・演算子・イディオム - Qiita](https://qiita.com/nashirox/items/0c885edf7d78fd5a83f1)
