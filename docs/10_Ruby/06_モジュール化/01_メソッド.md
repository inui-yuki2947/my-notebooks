# Ruby/モジュール化/メソッド

## 共通

### 概要

- メソッドは以下の3つに分類される。
  - インスタンスメソッド
  - クラスメソッド
  - 関数的メソッド

## 定義

### 記法

| 記法  | 概要                                           |
| ----- | ---------------------------------------------- |
| 記法1 | メソッドを定義する。                           |
| 記法2 | キーワード引数を使用して、メソッドを定義する。 |

- 書式1

  ```ruby
  def メソッド名(引数1, 引数2, ...)
    処理
  end
  ```

- 書式2

  ```ruby
  def メソッド名(引数1: [デフォルト値1], 引数2: [デフォルト値2], ...)
    処理
  end
  ```

- 引数を`*変数名`とすると、可変長引数を定義できる。

- 真偽値を返すメソッドは、名前の末尾に`?`を付けるのが慣例。

- `yield`で、メソッドに与えられたブロックを実行できる。

## 呼び出し

### 記法

| 記法                                                         | 概要                 |
| ------------------------------------------------------------ | -------------------- |
| `オブジェクト.メソッド名(引数1, 引数2, ...)`<br />`オブジェクト.メソッド名 引数1, 引数2, ...` | メソッドを呼び出す。 |

- 引数としてハッシュを渡す場合、`{}`は省略できる。

- 引数を`*配列`とすると、スプレッド展開を行う。

## ブロックつきメソッド呼び出し

### 記法

| 記法                                                         | 概要                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| `オブジェクト.メソッド名(引数1, 引数2, ...) do ｜変数1, 変数2, ...｜ 処理 end` | ブロックつきでメソッドを呼び出す。<br />（複数行の場合はこちらが推奨） |
| `オブジェクト.メソッド名(引数1, 引数2, ...) {｜変数1, 変数2, ...｜ 処理}` | ブロックつきでメソッドを呼び出す。<br />（単一行の場合はこちらが推奨） |

### その他

- `&:method_name`で、ブロックの代わりにメソッド名を渡すことができる。
  [Ruby初心者を脱した人が悩みがちな、ちょっと特殊な記法・演算子・イディオム - Qiita](https://qiita.com/nashirox/items/0c885edf7d78fd5a83f1)
