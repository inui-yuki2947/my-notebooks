# MySQL/CUI/mysql

## インストール

### Mac

```bash
brew install mysql
```

## mysql

### コマンド

| コマンド                                 | 概要                                         |
| ---------------------------------------- | -------------------------------------------- |
| `mysql -V, --version`                    | MySQLのバージョンを表示する。                |
| `mysql -?, -I, --help`                   | MySQLのヘルプを表示する。                    |
| `mysql [データベース名]`                 | MySQLにログインし、対話的にSQLを実行する。   |
| `mysql [データベース名]`（標準入力あり） | MySQLにログインし、標準入力のSQLを実行する。 |
| `mysql -e SQL文 [データベース名]`        | MySQLにログインし、指定したSQLを実行する。   |

### オプション

| 分類   | オプション                     | 概要                                                   |
|------|---------------------------|------------------------------------------------------|
| 接続情報 | `-h, --host ホスト名`         | ホストを指定する。                                            |
| 接続情報 | `-P, --port ポート番号`        | ポート番号を指定する。                                          |
| 接続情報 | `-u, --user ユーザー名`        | ユーザー名を指定する。（未指定時は、ログインユーザー名となる）                      |
| 接続情報 | `-p, --password[パスワード]`   | パスワードを指定する。（間にスペースは入れない）                             |
| 接続情報 | `--login-path=ログインパス`     | ログインパスを指定する。                                         |
| その他  | `-N, --skip-column-names` | カラム名を出力しない。                                          |
| その他  | `-B, --batch`             | カラム区切り文字としてタブ文字を使用し、各行を新しい行に出力する。<br />履歴ファイルは利用しない。 |
| その他  | `-E, --vertical`          | クエリー出力行を縦に出力する。（各文を`\G`で終了するのと同等）                    |

### ホスト名

- `localhost`（デフォルト）：ソケットで接続される
- `127.0.0.1`：TCP経由で接続される。
- デフォルトでうまく接続できない場合は、ホスト名に`127.0.0.1`を指定する。
  [MySQLでlocalhostと127.0.0.1の違い - Qiita](https://qiita.com/TanukiTam/items/f6a08740d0fcda0db7be)

### ログ

- CLIでインタラクティブに実行されたログは、`MYSQL_HISTFILE`（通常は`~/.mysql_history`）に出力される。

- ログを残したくない場合は、以下のようにログインする。

  ```bash
  MYSQL_HISTFILE=/dev/null mysql ...
  ```

### 参考資料

- [MySQL :: MySQL 5.6 リファレンスマニュアル :: 4.5.1.1 mysql のオプション](https://dev.mysql.com/doc/refman/5.6/ja/mysql-command-options.html)
