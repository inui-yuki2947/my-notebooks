# Kotlin/文法/関数

## 定義

### 通常の定義方法

```kotlin
fun 関数名(仮引数1：仮引数1の型, ...)[: 戻り値の型] {
    処理
}
```

- 戻り値の型を省略した場合は、`Unit`型となる。

### 単一式の定義方法

```kotlin
fun 関数名(引数1：引数1の型, ...)[: 戻り値の型] = 式
```

- 指定した式を戻り値とする関数を定義する。（return不要）
- 戻り値の型は、推論できる場合は省略可能。

### デフォルト値

- `仮引数 = デフォルト値`とすると、引数のデフォルト値を定義できる。

### 可変長引数

- `vararg 仮引数`とすると、可変長引数を定義できる。

## 呼び出し

| 書式                         | 概要                                                         |
| ---------------------------- | ------------------------------------------------------------ |
| `関数名(値1, ...)`           | 名前なし引数による渡し方。<br />引数は定義順に指定する必要がある。 |
| `関数名(仮引数1 = 値1, ...)` | 名前付き引数による渡し方。<br />引数は任意の順番で指定できる。 |

- 両者の渡し方を混在させる場合、名前付き引数は、名前なし引数の後方になければならない。

    ```kotlin
    getTriangleArea(20.0, height = 10.0)
    ```

- `*配列`とすると、可変長引数に配列を渡すことができる。（スプレッド演算子）

## 高階関数

- メソッドの引数に関数を渡すには、`::`演算子を使う。

  ```kotlin
  list.forEach(::print)
  ```

## 匿名関数（ラムダ式）

- 書式

    ```kotlin
    {引数1：引数1の型, ...} -> 処理
    ```

- 例

  ```kotlin
  list.forEach({ num: Int -> println(num) })
  ```

- 引数の型が明らかな場合、引数の型は省略できる。

  ```kotlin
  list.forEach({ num -> println(num) })
  ```

- 最後の引数がラムダ式の場合、ラムダ式は括弧の外に出せる。

  ```kotlin
  list.forEach() { num -> println(num) }
  ```

- ラムダ式が唯一の引数である場合、括弧は省略できる。

  ```kotlin
  list.forEach { num -> println(num) }
  ```

- ラムダ式の引数が単一の場合、暗黙的な引数`it`で受け取れる。

  ```kotlin
  list.forEach { println(it) }
  ```
