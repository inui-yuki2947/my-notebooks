# Docker Compose/docker-compose.yml/サービス

## services

### プロパティ

| 書式                  | 型             | 概要                         |
| --------------------- | -------------- | ---------------------------- |
| `services`            | オブジェクト型 | サービス（コンテナ）の一覧。 |
| `services.サービス名` | オブジェクト型 | サービス（コンテナ）。       |

## build

### プロパティ

| 書式                        | 型                           | 概要                                                         |
| --------------------------- | ---------------------------- | ------------------------------------------------------------ |
| `services.サービス名.build` | 文字列型<br />オブジェクト型 | イメージの構築情報。<br />構築コンテクストへのパスを文字列で指定するか、<br />詳細な情報をオブジェクトで指定する。 |

## image

### プロパティ

| 書式                        | 型       | 概要                               |
| --------------------------- | -------- | ---------------------------------- |
| `services.サービス名.image` | 文字列型 | コンテナの元となるイメージの情報。 |

## depends_on

### プロパティ

| 書式                             | 型             | 概要                           |
| -------------------------------- | -------------- | ------------------------------ |
| `services.サービス名.depends_on` | 文字列の配列型 | 依存関係があるサービスの一覧。 |

## ports

### プロパティ（短い書式）

| 書式                        | 型             | 概要                   |
| --------------------------- | -------------- | ---------------------- |
| `services.サービス名.ports` | 文字列の配列型 | 公開するポートの一覧。 |

- ポートの書式は、`[[IP:]ホストのポート:]コンテナのポート[/プロトコル]`の形式で指定する。（例：`6060:6060/udp`）
- ポートは、`3000-3005`の形式で範囲指定も可能。

### プロパティ（長い書式）

| 書式                                  | 型             | 概要                           |
| ------------------------------------- | -------------- | ------------------------------ |
| `services.サービス名.ports`           | オブジェクト型 | 公開するポートの一覧。         |
| `services.サービス名.ports.target`    | 文字列型       | コンテナ側ポート。             |
| `services.サービス名.ports.published` | 文字列型       | パブリックに公開されるポート。 |
| `services.サービス名.ports.protocol`  | 文字列型       | プロトコル。                   |

## volumes

### プロパティ

| 書式                          | 型                                 | 概要                       |
| ----------------------------- | ---------------------------------- | -------------------------- |
| `services.サービス名.volumes` | 文字列の配列型<br />オブジェクト型 | 使用するボリュームの一覧。 |

- 文字列型の場合は、`ホスト側の相対パス:コンテナの絶対パス:アクセスモード`の形式で指定する。
- `run`コマンドと違い、ボリュームは自動生成されない。

## command

### プロパティ

| 書式                          | 型                           | 概要                                                         |
| ----------------------------- | ---------------------------- | ------------------------------------------------------------ |
| `services.サービス名.command` | 文字列型<br />文字列の配列型 | イメージによって宣言済みのデフォルトコマンドを上書きするコマンド。 |
