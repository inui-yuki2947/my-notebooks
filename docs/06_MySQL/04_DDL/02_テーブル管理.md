# MySQL/DDL/テーブル管理

## CREATE TABLE

### 記法

| 記法                                                         | 概要                                         |
| ------------------------------------------------------------ | -------------------------------------------- |
| `CREATE TABLE テーブル名 (テーブル定義, ...)`                | テーブル定義を記述して、テーブルを作成する。 |
| `CREATE TABLE テーブル名 クエリ`                             | クエリから、テーブルを作成する。             |
| `CREATE TABLE [IF NOT EXISTS] テーブル名 LIKE 既存テーブル名` | 既存テーブルをもとに、テーブルを作成する。   |

### 記法（オプション）

| 記法                               | 概要                                               |
| ---------------------------------- | -------------------------------------------------- |
| `CREATE <TEMPORARY> TABLE ...`     | 一時テーブルを作成する。                           |
| `CREATE TABLE <IF NOT EXISTS> ...` | テーブルが存在しない場合のみ、テーブルを作成する。 |

### RENAME, MODIFY, CHANGE

| 句       | 概要                                   |
| -------- | -------------------------------------- |
| `RENAME` | テーブル・インデックス・カラム名の変更 |
| `MODIFY` | カラム定義の変更                       |
| `CHANGE` | カラム名と定義の変更                   |

## AUTO_INCREMENT

- 値の確認（方法1）

  ```sql
  SELECT * FROM information_schema.tables;
  ```

- 値の確認（方法2）

  ```sql
  SHOW TABLE STATUS;
  ```

- 値の再設定（ただし、当該カラムに入っている最大値以上に変更する場合に限る）

  ```sql
  ALTER TABLE テーブル名 AUTO_INCREMENT = 再設定したい値;
  ```

## 制約

- PRIMARY制約は、UNIQUE制約をテーブルに一つしか設定できないようにしたもの
  （どちらかのみ設定すればよい）
- 以下のSQLで、一時的に外部キー制約を無効にできる。

  ```sql
  SET FOREIGN_KEY_CHECKS = 0;
  ```

## SHOW CREATE TABLE

### 記法

| 記法                           | 概要                                                         |
| ------------------------------ | ------------------------------------------------------------ |
| `SHOW CREATE TABLE テーブル名` | 指定されたテーブルを作成する `CREATE TABLE` ステートメントを表示する。 |
