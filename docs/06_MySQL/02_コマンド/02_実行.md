# MySQL/コマンド/実行

## mysql.server

### コマンド

| コマンド               | 概要                |
| ---------------------- | ------------------- |
| `mysql.server start`   | MySQLを起動する。   |
| `mysql.server stop`    | MySQLを終了する。   |
| `mysql.server restart` | MySQLを再起動する。 |

## brew services

### コマンド

| コマンド                      | 概要                                  |
| ----------------------------- | ------------------------------------- |
| `brew services start mysql`   | MySQLを起動し、自動起動をオンにする。 |
| `brew services stop mysql`    | MySQLを終了し、自動起動をオフにする。 |
| `brew services restart mysql` | MySQLを再起動する。                   |

## mysql

### コマンド

|コマンド|概要|
|---|---|
|`mysql [データベース名]`|MySQLにログインし、対話的にSQLを実行する。|
|`mysql [データベース名]`（標準入力あり）|MySQLにログインし、標準入力のSQLを実行する。|
|`mysql -e SQL文 [データベース名]`|MySQLにログインし、指定したSQLを実行する。|

### オプション（接続情報系）

|オプション|概要|
|---|---|
|`-h ホスト名`|ホストを指定する。|
|`-u ユーザー名`|ユーザー名を指定する。（未指定時は、ログインユーザー名となる）|
|`-pパスワード`|パスワードを指定する。（間にスペースは入れない）|

### オプション（その他）

|オプション|概要|
|---|---|
|`-N, --skip-column-names`|カラム名を出力しない。|
|`-B, --batch`|カラム区切り文字としてタブ文字を使用し、各行を新しい行に出力する。<br />履歴ファイルは利用しない。|

### ホスト名

- `localhost`（デフォルト）：ソケットで接続される
- `127.0.0.1`：TCP経由で接続される。
- デフォルトでうまく接続できない場合は、ホスト名に`127.0.0.1`を指定する。
  [MySQLでlocalhostと127.0.0.1の違い - Qiita](https://qiita.com/TanukiTam/items/f6a08740d0fcda0db7be)

### ログ

- CLIでインタラクティブに実行されたログは、`MYSQL_HISTFILE`（通常は`~/.mysql_history`）に出力される。

- ログを残したくない場合は、以下のようにログインする。

  ```bash
  MYSQL_HISTFILE=/dev/null mysql ...
  ```

### 参考資料

- [MySQL :: MySQL 5.6 リファレンスマニュアル :: 4.5.1.1 mysql のオプション](https://dev.mysql.com/doc/refman/5.6/ja/mysql-command-options.html)
