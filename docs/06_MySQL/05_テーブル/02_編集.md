# MySQL/テーブル/編集

## ALTER TABLE

### 記法

| 記法                                                         | 概要                               |
| ------------------------------------------------------------ | ---------------------------------- |
| `ALTER TABLE テーブル名 (変更定義またはテーブルオプション, ...)` | 指定したテーブルの構造を変更する。 |

### 参考資料

- [MySQL :: MySQL 5.6 リファレンスマニュアル :: 13.1.7 ALTER TABLE 構文](https://dev.mysql.com/doc/refman/5.6/ja/alter-table.html)

## 変更定義（カラム系）

### 変更定義

| 変更定義                                                     | 概要                                   |
| ------------------------------------------------------------ | -------------------------------------- |
| `ADD [COLUMN] カラム名 カラム定義 [オプション]`              | 指定したカラムを追加する。             |
| `MODIFY [COLUMN] カラム名 カラム定義 [オプション]`           | 指定したカラムの定義を変更する。       |
| `CHANGE [COLUMN] カラム名 新しいカラム名 カラム定義 [オプション]` | 指定したカラムの名前と定義を変更する。 |
| `DROP [COLUMN] カラム名`                                     | 指定したカラムを削除する。             |

- 外部キー制約のあるカラムを削除する場合は、先にその制約を削除する必要がある。

### オプション

| オプション           | 概要                                     |
| -------------------- | ---------------------------------------- |
| なし                | テーブルの最後にカラムを配置する。       |
| `FIRST`          | テーブルの最初にカラムを配置する。       |
| `AFTER カラム名` | 指定したカラムの後ろにカラムを配置する。 |

## 変更定義（制約追加系）

### 変更定義

| 変更定義                                                     | 概要                     |
| ------------------------------------------------------------ | ------------------------ |
| `ADD [CONSTRAINT [シンボル]] PRIMARY KEY (カラム名1, ...)`   | 主キー制約を追加する。   |
| `ADD [CONSTRAINT [シンボル]] UNIQUE [INDEX｜KEY] [インデックス名] (カラム名1, ...)` | ユニーク制約を追加する。 |
| `ADD [CONSTRAINT [シンボル]] FOREIGN KEY [インデックス名] (カラム名1, ...) 参照定義` | 外部キー制約を追加する。 |
| `ADD <INDEX｜KEY> [インデックス名] (カラム名1, ...)`         | インデックスを追加する。 |

## 変更定義（制約削除系）

### 変更定義

| 変更定義                           | 概要                                   |
| ---------------------------------- | -------------------------------------- |
| `DROP PRIMARY KEY`                 | 主キー制約を削除する。                 |
| `DROP <INDEX｜KEY> インデックス名` | ユニーク制約・インデックスを削除する。 |
| `DROP FOREIGN KEY インデックス名`  | 外部キー制約を削除する。               |

## RENAME TABLE

### 記法

| 記法                                                 | 概要                               |
| ---------------------------------------------------- | ---------------------------------- |
| `RENAME TABLE <テーブル名 TO 新しいテーブル名>, ...` | 指定したテーブルの名前を変更する。 |
