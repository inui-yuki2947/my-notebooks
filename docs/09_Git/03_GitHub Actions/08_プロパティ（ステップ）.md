# Git/GitHub Actions/プロパティ（ステップ）

## 共通

### プロパティ（jobs.ジョブID.steps[]以下）

| 分類   | プロパティ                                | 型                                  | 概要                                                         |
| ------ | ----------------------------------------- | ----------------------------------- | ------------------------------------------------------------ |
| 基本   | `id`                | 文字列型                            | ステップの識別子。                                           |
| 基本   | `name`              | 文字列型                            | ステップの表示名。                                           |
| 基本   | `timeout-minutes`   | 数値型                              | ステップのタイムアウト時間（分）。                           |
| 基本   | `env`               | オブジェクト型<br />（Key/Value型） | 環境変数に設定する値。（ステップ内スコープ）                 |
| 条件   | `if`                | 文字列型                            | ステップの実行前に成功を待機する、条件式。                   |
| 条件   | `continue-on-error` | 真偽値型                            | ステップが失敗した場合でも、ジョブを成功扱いにするか。<br />（デフォルトは`FALSE`） |
| 再利用 | `uses`              | 文字列型                            | 使用するアクション。                                         |
| 再利用 | `with`              | オブジェクト型<br />（Key/Value型） | アクションで必要となる環境変数に設定する値。<br />変数名の先頭には`INPUT_`が付与され、大文字に変換される。 |
| シェル | `run`               | 文字列型                            | シェルで実行するコマンド。                                   |
| シェル | `shell`             | 文字列型                            | 使用するシェルの名前。                                       |

### 使用するアクション

| 使用するアクション            | 例                            | 概要                                                   |
| ----------------------------- | ----------------------------- | ------------------------------------------------------ |
| `{owner}/{repo}@{ref}`        | `actions/heroku@main`         | 指定した公開リポジトリのアクション。                   |
| `{owner}/{repo}/{path}@{ref}` | `actions/aws/ec2@main`        | 指定した公開リポジトリのサブディレクトリのアクション。 |
| `./path/to/dir`               | `./.github/actions/my-action` | 当該リポジトリのアクション。                           |

## その他

- カレントディレクトリは、`/home/runner/work/リポジトリ名/リポジトリ名`となる？
- デフォルトでは、リポジトリ（内のファイル）は扱えない。
- GitHub CLIはデフォルトでインストールされており、環境変数`GH_TOKEN`を設定すれば使用することが可能。

## 参考資料

- [GitHub Actions のワークフロー構文 - GitHub Docs](https://docs.github.com/ja/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idsteps)
