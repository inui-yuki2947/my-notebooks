# Go/モジュール化/関数・メソッド

## 関数

### 共通

- 引数や戻り値として`_`を指定すると、それを破棄できる。
- Go言語では例外機構が存在しないので、戻り値としてエラーオブジェクト（`err`が慣例）を返すことが多い。

### 定義

- 戻り値を返さない場合（他言語での`void`型）

  ```go
  func 関数名(引数) {
    処理
  }
  ```

- 一つの戻り値を返す場合

  ```go
  func 関数名(引数) 戻り値の型 {
    処理
  }
  ```

- 複数の戻り値を返す場合

  ```go
  func 関数名(引数) (戻り値の型1, 戻り値の型2, ...) {
    処理
  }
  ```

- 戻り値として変数を取ると、変数を自動で定義しreturnする。

  ```go
  func 関数名(引数) (変数名 変数の型) {
    処理
  }
  ```

- 関数名を省略し、無名関数とすることもできる。

### 呼び出し

- 複数の戻り値を受け取る場合

  ```go
  変数1, 変数2, ... = 関数名(引数)
  ```

### 可変長引数

- 関数の引数として、`...変数`で可変長引数を定義できる。
- 関数呼び出し時、`スライス...`で、スライスを可変長引数として展開できる。

## メソッド

### 概要

- メソッドは、型に特化した関数のことである。

### 定義

- 書式

  ```go
  func (レシーバー レシーバーの型) 関数名(引数) 戻り値の型 {
    処理
  }
  ```

- 一般にレシーバーはポインタ型で定義する。

### 呼び出し

- メソッドを呼び出す場合

  ```go
  レシーバー.メソッド(引数)
  ```

- レシーバーは値型でもポインタ型でも、メソッドは区別せず呼び出せる。

### 関数の取り出し

- 下記書式で、メソッドを（レシーバーを第1引数とする）関数として取り出せる。

  ```go
  レシーバーの型.メソッド
  ```
