# Bash/ファイル/圧縮・解凍

## 共通

### 圧縮形式

| 圧縮形式 | コマンド           | 拡張子 | 圧縮率 | 速度 | 備考              |
| -------- | ------------------ | ------ | ------ | ---- | ----------------- |
| gzip     | `gzip`, `gunzip`   | `.gz`  | 低     | 速い | Linuxでよく使う。 |
| bzip2    | `bzip2`, `bunzip2` | `.bz2` | 中     | 普通 |                   |
| xz       | `xz`, `unxz`       | `.xz`  | 高     | 遅い |                   |

## gzip, gunzip

### コマンド

| コマンド                                                     | 概要                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| `gzip ファイル名...`                                         | 指定したファイルの内容を圧縮して、`ファイル名.gz`で保存する。 |
| `gunzip 圧縮ファイル名...`<br />`gzip <-d, --decompress> ファイル名...` | 指定したファイルの内容を解凍して、`.gz`を除くファイル名で保存する。<br />圧縮ファイルは削除する。 |

- `gzip`, `gunzip`の部分は、`bzip2`, `bunzip2`, `xz`, `unxz`でも同様。

### オプション

| オプション   | 概要1                                                      |
| ------------ | ---------------------------------------------------------- |
| `-k, --keep` | 元のファイルを削除しない。（デフォルトでは削除される）     |
| `-r`         | ディレクトリ内のファイルをそれぞれ圧縮する。               |
| `-c`         | 元ファイルは残したまま、標準出力に圧縮ファイルを出力する。 |

## zip, unzip

### コマンド

| コマンド                            | 概要                                                   |
| ----------------------------------- | ------------------------------------------------------ |
| `zip 圧縮ファイル名 ファイル名`     | 指定したファイルを圧縮して、圧縮ファイル名で保存する。 |
| `unzip 圧縮ファイル名 [ファイル名]` | 指定した圧縮ファイル（の指定したファイル）を解凍する。 |

### オプション（unzip）

| オプション        | 概要                                                         |
| ----------------- | ------------------------------------------------------------ |
| `-Z`              | ZipInfoモードで実行する。                                    |
| `-l`              | 圧縮ファイルに含まれるファイルの一覧を表示する。             |
| `-p`              | 標準出力に出力する。                                         |
| `-d ディレクトリ` | 指定したディレクトリに解凍する。（デフォルトはカレントディレクトリ） |
| `-o`              | ファイル名重複時、ファイルを上書きする。（デフォルトでは確認のプロンプトが表示される） |
| `-n`              | ファイル名重複時、ファイルを上書きしない。（デフォルトでは確認のプロンプトが表示される） |

## 解凍をラップしたコマンド

### 概要

- 下記コマンドは、gzip形式で圧縮したファイルに対して、`z`を除いたコマンドを実行できる。
  - zcat
  - zless
  - zmore
  - zgrep
  - zcmp
  - zdiff
- bzip2形式やxz形式のファイルについては、`bzcat`や`xzcat`コマンドが利用できる。
