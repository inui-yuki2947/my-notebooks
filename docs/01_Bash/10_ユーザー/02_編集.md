# Bash/ユーザー/編集

## vipw

### コマンド

| コマンド | 概要                                    |
| -------- | --------------------------------------- |
| `vipw`   | `/etc/passwd`ファイルを安全に編集する。 |

### ファイル

| ファイル      | 概要                                                       | 書式                                                         | 例                                         |
| ------------- | ---------------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------ |
| `/etc/passwd` | ユーザー情報が記述される。                                 | `ユーザー名:パスワード:UID:プライマリグループID:コメント:ホームディレクトリ:ログインシェル` | `user01:x:500:500::/home/user01:/bin/bash` |
| `/etc/group`  | グループ情報が保存される。                                 | `グループ名:グループパスワード:GID:サブグループとして属するメンバー` | `hoge_group:x:501:hoge_user3,hoge_user2`   |
| `/etc/skel/`  | 作成するホームディレクトリのデフォルトファイルを配置する。 |                                                              |                                            |

- UIDは、rootユーザーは`0`、一般ユーザーは`1000`以降の番号となる。

## useradd, usermod, userdel, adduser, deluser

### コマンド

| コマンド             | 概要                             |
| -------------------- | -------------------------------- |
| `useradd ユーザー名` | ユーザーを作成する。             |
| `usermod ユーザー名` | ユーザーを編集する。             |
| `userdel ユーザー名` | ユーザーを削除する。             |
| `adduser`            | **対話的に**ユーザーを作成する。 |
| `deluser`            | **対話的に**ユーザーを削除する。 |

### オプション

| コマンド  | オプション               | 概要                                                 |
| --------- | ------------------------ | ---------------------------------------------------- |
| `useradd` | `-g グループ名またはGID` | プライマリグループを指定する。                       |
| `useradd` | `-G グループ名またはGID` | プライマリグループ以外に所属するグループを指定する。 |
| `useradd` | `-c コメント`            | コメントを指定する。                                 |
| `useradd` | `-d パス`                | ホームディレクトリを指定する。                       |
| `useradd` | `-s パス`                | デフォルトシェルを指定する。                         |
| `usermod` | `-L, --lock`             | パスワードをロックする。                             |
| `usermod` | `-U, --unlock`           | パスワードのロックを解除する。                       |
| `userdel` | `-r`                     | ホームディレクトリも削除する。                       |

## groupadd, groupmod, groupdel

### コマンド

| コマンド              | 概要                 |
| --------------------- | -------------------- |
| `groupadd グループ名` | グループを作成する。 |
| `groupmod グループ名` | グループを編集する。 |
| `groupdel グループ名` | グループを削除する。 |

### オプション

| コマンド   | オプション      | 概要                   |
| ---------- | --------------- | ---------------------- |
| `groupmod` | `-n グループ名` | グループ名を変更する。 |
