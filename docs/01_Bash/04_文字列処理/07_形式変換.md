# Bash/文字列処理/形式変換

## iconv

### コマンド

| コマンド             | 概要                             |
|------------------|--------------------------------|
| `iconv`          | 標準入力の内容を、文字コードを変換して標準出力する。     |
| `iconv ファイル名...` | 指定したファイルの内容を、文字コードを変換して標準出力する。 |

### オプション

| オプション                   | 概要                                                         |
| ---------------------------- | ------------------------------------------------------------ |
| `-f, --from-code 文字コード` | 変換前の文字コードを指定する。                               |
| `-t, --to-code 文字コード`   | 変換後の文字コードを指定する。                               |
| `-c`                         | 変換できなかった文字があっても、そこで中断せず処理を続行する。 |

### 例

- ShiftJISをUTF-8に変換する

  ```bash
  iconv -f sjis -t utf8
  ```

## col

### コマンド

| コマンド | 概要                                                         |
| -------- | ------------------------------------------------------------ |
| `col`    | 標準入力の内容について、逆方向への改行および半改行を取り除き、 通常の改行方向だけで出力可能なものに変換して、標準出力する。 |

### オプション

| オプション | 概要                                   |
| ---------- | -------------------------------------- |
| `-b`       | バックスペースを出力しないようにする。 |

### その他

- `col -b`コマンドは、強調表示の制御コードを取り除く場合などに有用である。
  [manページをテキストファイルにすると文字化けしてしまう](https://atmarkit.itmedia.co.jp/flinux/rensai/linuxtips/116man2txt.html)

## od

### コマンド

| コマンド       | 概要                           |
|------------|------------------------------|
| `od`       | 標準入力の内容を、8進数に変換して標準出力する。     |
| `od ファイル名` | 指定したファイルの内容を、8進数に変換して標準出力する。 |

### オプション

| オプション                           | 概要                         |
| ------------------------------------ | ---------------------------- |
| `-t, --format タイプ`<br />`-タイプ` | 出力フォーマットを指定する。 |

### タイプ

| タイプ | 概要                               |
| ------ | ---------------------------------- |
| `c`    | ASCII文字または「\」エスケープ文字 |

## 改行文字の確認

### コマンド

| コマンド            | 概要                                           |
| ------------------- | ---------------------------------------------- |
| `file ファイル名`   | `with CRLF line terminators`などが表示される。 |
| `od -c ファイル名`  | 行末に、`\r\n`などが表示される。               |
| `cat -e ファイル名` | 行末に、`^M$`などが表示される。                |

- [Linuxでテキストファイルの改行コードを調べる方法: 小粋空間](https://www.koikikukan.com/archives/2015/10/15-001111.php)

## base64

### コマンド

| コマンド           | 概要                                   |
|----------------|--------------------------------------|
| `base64`       | 標準入力の内容を、BASE64形式でエンコードして標準出力する。     |
| `base64 ファイル名` | 指定したファイルの内容を、BASE64形式でエンコードして標準出力する。 |

### オプション

| オプション | 概要                                               |
| ---------- | -------------------------------------------------- |
| `-d`       | デコードを行う。（デフォルトではエンコードを行う） |

## md5sum, shaXXsum

### コマンド

| コマンド                                       | 概要                                     |
| ---------------------------------------------- | ---------------------------------------- |
| `md5sum`<br />`shaXXsum`                       | 標準入力のハッシュ値を表示する。         |
| `md5sum ファイル名`<br />`shaXXsum ファイル名` | 指定したファイルのハッシュ値を表示する。 |

### その他

- 以下の順で、計算が遅く、安全性が高くなる。
  - md5sum
  - sha1sum
  - sha224sum
  - sha256sum
  - sha384sum
  - sha512sum
