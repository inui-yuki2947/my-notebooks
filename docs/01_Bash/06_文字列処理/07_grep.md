# Bash/文字列処理/grep

## grep

### コマンド

| コマンド                                                  | 概要                                                         |
| --------------------------------------------------------- | ------------------------------------------------------------ |
| `grep 検索パターン`                                       | 標準入力について、検索パターンにマッチする行を出力する。     |
| `grep 検索パターン ファイル名...`                         | 指定した全てのファイルについて、検索パターンにマッチする行を出力する。<br />（複数ファイル指定時は、出力行の先頭にファイル名が付与される） |
| `grep -R, -r, --recursive 検索パターン ディレクトリ名...` | 指定したディレクリ配下の全てのファイルについて、検索パターンにマッチする行を出力する。<br />（出力行の先頭にファイル名が付与される） |

- 結果が見つからなかった場合は、終了ステータス`1`を返す。

### オプション（正規表現変更系）

| オプション | 概要                                                |
| ---------- | --------------------------------------------------- |
| `-F`       | 正規表現を使わず検索する。（`fgrep`コマンドと同じ） |
| `-E`       | 拡張正規表現を使用する。（`egrep`コマンドと同じ）   |
| `-P`       | Perl拡張を行う。（GNU版のみ）                       |

### オプション（表示系）

| オプション            | 概要                                 |
| --------------------- | ------------------------------------ |
| `-n, --line-number`   | 行番号を合わせて表示する。           |
| `-c, --count`         | マッチした数のみ表示する。           |
| `-v, --invert-match`  | マッチしなかった結果のみを表示する。 |
| `-o, --only-matching` | マッチした部分のみを表示する。       |
| `-q, --quiet`         | 実行結果を表示しない。               |

### オプション（ファイル名の表示系）

| オプション                  | 概要                                             |
| --------------------------- | ------------------------------------------------ |
| `-H, --with-filename`       | ファイル名を併せて表示する。                     |
| `-h, --no-filename`         | ファイル名を非表示にする。（複数ファイル指定時） |
| `-l, --files-with-matches`  | マッチしたファイル名のみを出力する。             |
| `-L, --files-without-match` | マッチしなかったファイル名のみを出力する。       |

### オプション（その他）

| オプション              | 概要                                                         |
| ----------------------- | ------------------------------------------------------------ |
| `-e 検索パターン`       | 検索パターンを追加で指定する。                               |
| `-f, --file ファイル名` | 検索パターンをファイルから読み込む。                         |
| `-i, --ignore-case`     | 大文字小文字を区別しない。（デフォルトでは区別する）         |
| `-x, --line-regexp`     | 行全体の完全一致で検索する。                                 |
| `-a`                    | テキストファイルであることを明示する。<br />（`binary file matches`と言われた場合などに使用する） |
