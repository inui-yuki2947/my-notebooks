# Go/文法/パッケージ

## 共通

### 概要

- Goファイルは、何らかのパッケージに属する。

- 一つのディレクトリには、一つのパッケージのみ定義できる。

### スコープ

- Goにおけるスコープには、大きい順に以下のものがある。
  - パッケージ
  - ファイル
  - 関数
  - ブロック
  - 制御構文
- 関数外に定義されたものは、パッケージスコープとなる。
- パッケージスコープのうち、**識別子の1文字目が大文字**であるものは、他のパッケージからも参照できる。
- `import`文は、ファイルスコープとなる。
- `{処理}`とすると、関数内にブロックスコープを定義できる。

## 定義

### 書式

| 書式                   | 概要                         |
| ---------------------- | ---------------------------- |
| `package パッケージ名` | 属するパッケージを定義する。 |

### 命名規則

- よさそうな規約
  - ディレクトリ名は、英字小文字のみ
  - パッケージ名は、ディレクトリ名と合わせる
  - ファイル名は、スネークケース
- [他言語プログラマが最低限、気にすべきGoのネーミングルール](https://zenn.dev/keitakn/articles/go-naming-rules)

## インポート

### 書式

| 書式                                       | 概要                                                         |
| ------------------------------------------ | ------------------------------------------------------------ |
| `import "パッケージ名"`                    | パッケージをインポートする。                                 |
| `import 新しいパッケージ名 "パッケージ名"` | パッケージ名を上書きして、パッケージをインポートする。       |
| `import . "パッケージ名"`                  | 使用時にパッケージ名を省略できるように、パッケージをインポートする。 |
| `import _ "パッケージ名"`                  | 使用しないパッケージをインポートする。                       |

### パッケージ名

| 種類     | 例                        | 概要                                                         |
| -------- | ------------------------- | ------------------------------------------------------------ |
| 相対パス | `import "./model"`        | import文が書かれたファイルからの相対パスでインポートする。（非推奨） |
| 絶対パス | `import "shorturl/model"` | 環境変数`GOPATH`からの絶対パスでインポートする。             |

### その他

- お互いのパッケージを参照し合っていると、`import cycle not allowed`というエラーが起きる。
