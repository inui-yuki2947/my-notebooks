# JavaScript/モジュール化/モジュール

## モジュールのインポート方法

| 方法                    | 概要                                              | 使用する記法         | 拡張子 |
| ----------------------- | ------------------------------------------------- | -------------------- | ------ |
| ES Modules（ESM）       | ブラウザ互換。                                    | `export`, `import`   | `.mjs` |
| CommonJS Modules（CJS） | Node.js でしか動かない。<br />npmでのデフォルト。 | `exports`, `require` | `.cjs` |

- [Node.js Dual Packages (CommonJS/ES Modules) に対応した npm パッケージの開発 - Cybozu Inside Out | サイボウズエンジニアのブログ](https://blog.cybozu.io/entry/2020/10/06/170000)
- [jsのimportとrequireの違い - Qiita](https://qiita.com/minato-naka/items/39ecc285d1e37226a283)

## export

### 記法

| 記法                  | 概要                                                         |
| --------------------- | ------------------------------------------------------------ |
| `export 対象`         | 対象をエクスポートする。                                     |
| `export default 対象` | 対象をデフォルトエクスポートする。<br />（ファイルで一つのみ指定可能） |

## import

### 記法

| 記法                                                         | 概要                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| `import {対象1, 対象2, ...} from 'ファイルパス'`             | 指定した対象をインポートする。<br />（`対象`でアクセスできる） |
| `import {対象1 as 別名1, 対象2 as 別名2, ...} from 'ファイルパス'` | 指定した対象をインポートする。<br />（`別名`でアクセスできる） |
| `import * as 別名 from 'ファイルパス'`                       | 全ての対象をインポートする。<br />（`別名.対象`でアクセスできる） |
| `import 別名 from 'ファイルパス'`                            | デフォルトエクスポートされた対象をインポートする。<br />（`別名`でアクセスできる） |

- ファイルパスは、拡張子及び`./`が必須。

## exports

### 記法

| 記法                               | 概要                     |
| ---------------------------------- | ------------------------ |
| `exports.プロパティ = 対象`        | 対象をエクスポートする。 |
| `module.exports = 対象`            | 対象をエクスポートする。 |
| `module.exports.プロパティ = 対象` | 対象をエクスポートする。 |

## require

### 記法

| 記法                      | 概要                                       |
| ------------------------- | ------------------------------------------ |
| `require('ファイルパス')` | 指定したファイルでエクスポートされた対象。 |

- ファイルパスは、拡張子は任意だが、`./`が必須。
