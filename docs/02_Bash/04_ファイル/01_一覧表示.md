# Bash/ファイル/一覧表示

## cd, pwd

### コマンド

| コマンド          | 概要                                       |
| ----------------- | ------------------------------------------ |
| `cd`              | ホームディレクトリに移動する。             |
| `cd ディレクトリ` | 指定したディレクトリに移動する。           |
| `cd -`            | 直前のディレクトリ（`OLDPWD`）に移動する。 |
| `pwd`             | カレントディレクトリのパスを表示する。     |

### 環境変数

| 環境変数 | 概要                                                         |
| -------- | ------------------------------------------------------------ |
| `HOME`   | ホームディレクトリのパス。<br />（通常、Linuxでは`/home/ユーザー名`、Macでは`/Users/ユーザー名`） |
| `PWD`    | カレントディレクトリのパス。                                 |
| `OLDPWD` | 直前のディレクトリのパス。                                   |

## ls

### コマンド

|コマンド|概要|
|---|---|
|`ls [ファイルまたはディレクトリ...]`|ファイルの一覧を表示する。|

### オプション

| オプション | 概要                                          |
| ---------- | --------------------------------------------- |
| `-a`       | 隠しファイルを表示する。                      |
| `-A`       | 隠しファイルを表示する。（`.`及び`..`を除く） |
| `-d`       | ディレクトリ自体の情報を表示する。            |
| `-l`       | ファイルの詳細を表示する。                    |
| `-h`       | 人間に分かりやすい単位で容量を表示する。      |

## find

### コマンド

|コマンド|概要|
|---|---|
|`find パス [検索式]`|指定したパス配下にあるファイル・ディレクトリの一覧（同パス含む）について、<br />（検索式を満たすものを、）**指定したパスからのパス**で表示する。|

### 検索式（名前系）

| 検索式                | 概要                                                         |
| --------------------- | ------------------------------------------------------------ |
| `-name 検索パターン`  | ファイル・ディレクトリ名が一致するか。（ワイルドカード`*`を指定可能） |
| `-path 検索パターン`  | パスが一致するか。（ワイルドカード`*`を指定可能）            |
| `-regex 検索パターン` | パスが一致するか。（正規表現を指定可能）                     |

### 検索式（ファイル特性系）

| 検索式                 | 概要                                                         |
| ---------------------- | ------------------------------------------------------------ |
| `-type ファイルタイプ` | ファイルタイプが一致するか。<br />（ファイルは`f`、ディレクトリは`d`、シンボリックリンクは`l`） |
| `-empty`               | 空ファイルであるか。                                         |

### 検索式（タイムスタンプ系）

| 検索式        | 概要                                                   |
| ------------- | ------------------------------------------------------ |
| `-atime 日数` | 指定した日時より前に、最終アクセスされたか。           |
| `-ctime 日数` | 指定した日時より前に、何らかの変更がなされたか。       |
| `-mtime 日数` | 指定した日時より前に、ファイル内容の変更がなされたか。 |

### 検索式（権限系）

| 検索式          | 概要                             |
| --------------- | -------------------------------- |
| `-perm モード`  | モードに一致するか。             |
| `-perm -モード` | モードが全て含まれているか。     |
| `-perm /モード` | モードが一つ以上含まれているか。 |

### 検索式（深さ系）

| 検索式           | 概要                                         |
| ---------------- | -------------------------------------------- |
| `-depth 深さ`    | 検索するディレクトリの深さを指定する。       |
| `-mindepth 深さ` | 検索するディレクトリの深さの最小を指定する。 |
| `-maxdepth 深さ` | 検索するディレクトリの深さの最大を指定する。 |

- 指定したパス自体の深さが`0`、その1つ下のディレクトリの深さが`1`。

### 検索式（条件系）

| 検索式     | 概要                                                         |
| ---------- | ------------------------------------------------------------ |
| `-a, -and` | 後ろの条件をAND条件とする。<br />（これを付与しなくても、デフォルトでAND条件で繋がれる） |
| `-o, -or`  | 後ろの条件をOR条件とする。                                   |
| `-not`     | 後ろの条件を否定する。                                       |

### 検索式（その他）

| 検索式              | 概要                                                         |
| ------------------- | ------------------------------------------------------------ |
| `-prune`            | trueを返し、ディレクトリの場合はサブディレクトリに降りない。 |
| `-print`            | 見つけたファイルをフルパスで出力する。（デフォルト）         |
| `-print0`           | 区切り文字をヌル文字にして出力する。<br />（結果をxargsに渡すときなどに使う） |
| `-exec コマンド \;` | 見つけたファイルを引数としてコマンドを実行する。<br />（引数を入れる箇所に`{}`を指定する） |

## locate, updatedb

### コマンド

|コマンド|概要|
|---|---|
|`locate 検索パターン`|あらかじめ作成されたDBに基づいて、高速にファイルを検索する。|
|`updatedb`|`locate`コマンドで使うDBを更新する。|

- 多くのディストリビューションでは、`updatedb`コマンドはcronで定期的に実行される。
  （`/etc/updatedb.conf`ファイルで、設定を変更できる）

## tree

### コマンド

|コマンド|概要|
|---|---|
|`tree [ディレクトリ]`|ファイルやディレクトリをツリー状に表示する。|

## basename, dirname

### コマンド

|コマンド|概要|
|---|---|
|`basename パス`|パスからファイル名部分を取得する。|
|`basename パス 接尾辞`|パスからファイル名部分を取得する。（接尾辞を除く）|
|`dirname パス`|パスからディレクトリ名部分（末尾スラッシュを除く）を取得する。<br />相対パスの場合は、相対パスのままとなる。|
