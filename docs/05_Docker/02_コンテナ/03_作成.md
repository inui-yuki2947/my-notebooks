# Docker/コンテナ/作成

## docker container run, create

### コマンド

| コマンド                                             | 概要                                                         |
| ---------------------------------------------------- | ------------------------------------------------------------ |
| `docker container run イメージ [コマンド] [引数]`    | コンテナを**起動状態**で作成し、標準出力に繋ぐ。（`create`と`start`の組み合わせ） |
| `docker container create イメージ [コマンド] [引数]` | コンテナを**停止状態**で作成し、作成したコンテナIDを標準出力に出力する。 |

### オプション（起動方法系）

| オプション          | 概要                                                         |
| ------------------- | ------------------------------------------------------------ |
| `-d, --detach`      | コンテナを**デタッチド・モード**で起動する。<br />（現在のターミナルを占有しないようにする） |
| `-i, --interactive` | ホストの標準入力を、コンテナの標準入力につなげる。           |
| `-t, --tty`         | コンテナの標準出力を、ホストの標準出力につなげる。           |

- デフォルトでは、改行文字がLFで出力されるが、TTYを有効にする（`-t`オプションを付ける）と、CRLFで出力される。
  [Docker や docker-compose で TTY を有効にした場合, 標準出力の改行コードが CR+LF になる件 - ようへいの日々精進XP](https://inokara.hateblo.jp/entry/2018/12/19/235758)

### オプション（その他）

| オプション                                                   | 概要                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| `-p, --publish ホストのポート:コンテナのポート`              | ポートフォワーディングを行う。                               |
| `-v, --volume [ボリュームまたはホスト側パス:]コンテナ側送信先` | ホスト側とコンテナの**ディレクトリを共有**させる。<br />ボリューム省略時は、匿名ボリュームとなる。 |
| `-w, --workdir ディレクトリ`                                 | コンテナ内での作業ディレクトリを指定できる。                 |
| `--network ネットワーク名`                                   | コンテナをネットワークに接続する。                           |
| `--name コンテナ名`                                          | コンテナ名を指定する。<br />（指定しない場合は、適当な名前が与えられる） |
| `--rm`                                                       | 終了時にコンテナを破棄する。                                 |
