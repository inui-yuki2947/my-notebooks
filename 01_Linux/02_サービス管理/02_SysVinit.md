# Linux/サービス管理/SysVinit

## 共通

### 概要

- SysVinitでは、最初のinitプロセス（PID: 1）が、設定ファイルに基づいてサービスを起動していく。

### ファイル

- ファイル

| ファイル                                  | 概要                                                   |
| ----------------------------------------- | ------------------------------------------------------ |
| `/etc/inittab`                            | 設定ファイル。デフォルトのランレベルが記載されている。 |
| `/etc/init.d`ディレクトリ配下             | 起動スクリプトとして使われる。                         |
| `/etc/rcランレベル.d`（例：`/etc/rc1.d`） | 各ランレベルで起動・終了するサービス。                 |

### ランレベル

- SysVinitでは、ランレベルごとに、どのようなサービスが稼働するかを決定する。

| ランレベル | 概要                                                         |
| ---------- | ------------------------------------------------------------ |
| `0`        | 停止                                                         |
| `1, s, S`  | シングルユーザーモード（rootユーザーだけが利用できる特殊な状態） |
| `2, 3`     | マルチユーザーモード（テキストログイン）                     |
| `5`        | マルチユーザーモード（グラフィカルログイン）                 |
| `6`        | 再起動                                                       |

### runlevel, init, telinit

- コマンド

|コマンド|概要|
|---|---|
|`runlevel`|現在のランレベルとその前のランレベルを表示する。|
|`init ランレベル`<br />`telinit ランレベル`|ランレベルを変更する。|
