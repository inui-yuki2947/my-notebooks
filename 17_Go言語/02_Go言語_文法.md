# Go言語_文法

## 文法基礎

### パッケージ

- Goファイルは、何らかのパッケージに属する。

  ```go
  package パッケージ名
  ```

- 一つのディレクトリには、一つのパッケージのみ定義できる。

### インポート

- パッケージ名を上書きする場合

  ```go
  import 新しいパッケージ名 "パッケージ名"
  ```

- 使用時にパッケージ名を省略したい場合

  ```go
  import . "パッケージ名"
  ```

- 使用しないパッケージをインポートする場合

  ```go
  import _ "パッケージ名"
  ```

- パッケージ名の指定
  - 相対パス：import文が書かれたファイルからの相対パスで指定できる。（非推奨）
  - 絶対パス：環境変数`GOPATH`からの絶対パスで指定できる。

### 命名規則

- よさそうな規約
  - ディレクトリ名は、英字小文字のみ
  - パッケージ名は、ディレクトリ名と合わせる
  - ファイル名は、スネークケース
- [他言語プログラマが最低限、気にすべきGoのネーミングルール](https://zenn.dev/keitakn/articles/go-naming-rules)

### スコープ

- Goにおけるスコープには、大きい順に以下のものがある。
  - パッケージ
  - ファイル
  - 関数
  - ブロック
  - 制御構文
- 関数外に定義されたものは、パッケージスコープとなる。
- パッケージスコープのうち、**識別子の1文字目が大文字**であるものは、他のパッケージからも参照できる。
- `import`文は、ファイルスコープとなる。
- `{処理}`とすると、関数内にブロックスコープを定義できる。

### その他

- Goプログラムは、`main`パッケージの`main`関数から開始される。
- 文はセミコロンで区切られるが、行末には（`{`や`,`で終わる場合を除いて）セミコロンが自動挿入され

## 変数

### 概要

- 変数の型は、値型・参照型・ポインタ型に分類される。

### 変数の定義

- 変数を定義する場合

  ```go
  var 変数名 型
  ```

- 複数の変数を同じ型で定義する場合

  ```go
  var 変数名1, 変数名2, ... 型
  ```

- 複数の変数を別の型で定義する場合

  ```go
  var (
    変数名1 型1
    変数名2 型2
    ...
  )
  ```

### 変数の代入

- 変数に代入する場合（再代入可能）

  ```go
  変数 = 値
  ```

- 複数の変数に代入する場合（再代入可能）

  ```go
  変数1, 変数2, ... = 値1, 値2, ...
  ```

### 変数の定義・代入

- 変数の定義と代入を行う場合（`var`を使う場合）

  ```go
  var 変数名 = 値
  ```

- 変数の定義と代入を行う場合（`:=`を使う場合）

  ```go
  変数名 := 値
  ```

- 複数の変数の定義と代入を行う場合（`var`を使う場合）

  ```go
  var (
    変数名1 = 値1
    変数名2 = 値2
    ...
  )
  ```

## 定数

### 定数の定義

- `var`句の代わりに`const`句を使うことで、定数を定義できる。

  ```go
  const 定数名 = 値
  ```

- `const`句で複数の定数を定義する際に、値が省略された場合は、前の定数の値が利用される。

### 定数の型

- 定数には、型なし定数（デフォルト）と型あり定数がある。
- 整数・浮動小数点数の定数は、最大値がなく、演算はコンパイル時に高精度に行われる。

### iota

- `iota`識別子は、インクリメントされる識別子である。
- `iota`識別子は、各`const`句で0から始まり、（使用されるか否かに関わらず）定数が定義されるたび1ずつ増加する。
