# 型

## 共通

### 分類

- 分類

| 型     | 例                                                           | 初期値      |
| ------ | ------------------------------------------------------------ | ----------- |
| 値型   | 基本型、配列型、構造体                                       | `0`や空文字 |
| 参照型 | スライス、マップ、チャネル、ポインタ、インターフェース、関数 | `nil`       |

### キャスト

- Go言語では、暗黙的なキャストは行われない。
- 明示的にキャストする場合は、`型名(値)`とする。
- 数値・文字列の変換などには、`strconv`パッケージを使う。

### 型アサーション

- 型アサーションで、`interface{}`型変数の型をチェック・変換できる。

  ```go
  型変換後の値, 型変換が成功したか := 変数.(型)
  ```

- 例

  ```go
  hoge, ok := fuga.(int)
  ```

### type

- `type`は、型にエイリアスを設定する。

  ```go
  type 新しい型 型
  ```

- エイリアスは派生元と型の互換性があるが、エイリアス同士は互換性がない。

## 基本型

### 数値型

- 型

| 型                                 | 概要                                                 | リテラル   |
| ---------------------------------- | ---------------------------------------------------- | ---------- |
| `intビット数`                      | そのビット数の整数                                   |            |
| `uintビット数`                     | そのビット数の非負整数                               |            |
| `int`                              | 実装ビット数に応じた整数                             | `1`        |
| `uint`                             | 実装ビット数に応じた非負整数                         |            |
| `uintptr`                          | ポインタの値をそのまま格納するのに十分な大きさの整数 |            |
| `float32`, `float64`（デフォルト） | 浮動小数点                                           | `1.5`      |
| `complex64`, `complex128`          | 複素数                                               | `1.5 + 3i` |

- Go言語では、桁数のオーバーフローが生じた際に、ラップアラウンドが起こる（数値が循環する）。

- `real(複素数)`関数で実部が、`imag(複素数)`関数で虚部が取り出せる。

### 文字列型

- 型

| 型       | 概要                    | リテラル |
| -------- | ----------------------- | -------- |
| `rune`   | 文字（`int32`型の別名） | `'a'`    |
| `string` | 文字列                  | `"abc"`  |

- バッククォーテーションで複数行の文字列を記述できる。（RAW文字列リテラル）
- 一度生成された文字列は不変である。（その都度新しい文字列が生成される）

## ポインタ

### 概要

- ポインタ型は`*型`で表し、初期値は`nil`となる。

### アドレス演算子・デリファレンス

- `&変数`で、任意の型からそのポインタ型を生成する。
- `*変数`で、ポインタ型が指し示すデータのデリファレンスができる。
- 配列やスライスは、デリファレンスを省略できる。

### new

- `new`は、指定した型のポインタ型を生成する。

  ```go
  new(型)
  ```
