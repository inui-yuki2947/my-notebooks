# ファイル内容処理

## 単純表示

### cat

- コマンド

  |コマンド|概要|
  |---|---|
  |`cat [ファイル名...]`|ファイルまたは標準入力の内容を、連結して表示する。|

### head, tail

- コマンド

  | コマンド               | 概要                                               |
  | ---------------------- | -------------------------------------------------- |
  | `head [ファイル名...]` | ファイルまたは標準入力の内容を、先頭のみ表示する。 |
  | `tail [ファイル名...]` | ファイルまたは標準入力の内容を、末尾のみ表示する。 |
  
- オプション

  | オプション         | 概要                                                       |
  | ------------------ | ---------------------------------------------------------- |
  | `-n 行数`, `-行数` | 指定した行数を表示する。（デフォルトは10行）             |
  |`-n -行数`（GNU版`head` コマンドのみ）|末尾から指定した行数を除いたものを表示する。|
  |`-n +行数`（`tail`コマンドのみ）|先頭から指定した行数以降のものを表示する。|
  | `-f`               | ファイル更新に応じて出力を続ける。                         |
  | `-F`               | ファイル更新に応じて出力を続ける。（リネームなどにも対応） |

### nl

- コマンド

  | コマンド             | 概要                                                   |
  | -------------------- | ------------------------------------------------------ |
  | `nl [ファイル名...]` | ファイルまたは標準入力の内容を、行番号付きで表示する。 |
  
- オプション

  |オプション|概要|
  |---|---|
  |`-b タイプ`|表示方法を変更できる。|
  |`-b a`|空行でも行番号を数える。|

### column, fold

- コマンド

  | コマンド                 | 概要                                                         |
  | ------------------------ | ------------------------------------------------------------ |
  | `column [ファイル名...]` | ファイルまたは標準入力の内容を、複数の列に分けて表示する。   |
  | `fold [ファイル名...]`   | ファイルまたは標準入力の内容を、指定した幅で折り返して表示する。 |

- オプション（`column`）

  | オプション | 概要                                                     |
  | ---------- | -------------------------------------------------------- |
  | `-c 幅`    | 幅を指定する。（デフォルトは環境変数`COLUMN`の値（80）） |

- オプション（`fold`）

  | オプション              | 概要                             |
  | ----------------------- | -------------------------------- |
  | `-幅`, `-w, --width 幅` | 幅を指定する。（デフォルトは80） |

### paste, join

- コマンド

  | コマンド                       | 概要                                                         |
  | ------------------------------ | ------------------------------------------------------------ |
  | `paste ファイル名...`          | 複数のファイルについて、行ごと水平方向に連結して表示する。   |
  | `join ファイル名1 ファイル名2` | 2つのファイルについて、先頭に共通部分がある行を、水平方向に連結して表示する。 |

## 形式変換表示

### iconv

- コマンド

  |コマンド|概要|
  |---|---|
  |`iconv [ファイル名...]`|ファイルの文字コードを変換する。|

- オプション

  | オプション                   | 概要                           |
  | ---------------------------- | ------------------------------ |
  | `-f, --from-code 文字コード` | 変換前の文字コードを指定する。 |
  | `-t, --to-code 文字コード`   | 変換後の文字コードを指定する。 |

### od

- コマンド

  |コマンド|概要|
  |---|---|
  |`od ファイル名`|バイナリファイルの内容を、8進数で表示する。|

### base64

- コマンド

  |コマンド|概要|
  |---|---|
  |`base64 [ファイル名]`|ファイルまたは標準入力を、BASE64形式でエンコードして標準出力する。|

- オプション

  | オプション | 概要                                               |
  | ---------- | -------------------------------------------------- |
  | `-d`       | デコードを行う。（デフォルトではエンコードを行う） |

## 並び替え

### sort, tac, shuf

- コマンド

  |コマンド|概要|
  |---|---|
  |`sort [ファイル名...]`|ファイルの内容を、行単位で並び替えて表示する。|
  |`tac ファイル名`|ファイルの内容を、最終行から逆順に表示する。|
  |`shuf ファイル名`|ファイルの内容を、行をシャッフルして表示する。|

- オプション（`sort`）

  | オプション                      | 概要                                                         | 例       |
  | ------------------------------- | ------------------------------------------------------------ | -------- |
  | `-r`                            | 逆順に並び替える。                                           |          |
  | `-n`                            | 文字列を数値とみなす。                                       |          |
  | `-f`                            | 大文字小文字を区別しない。                                   |          |
  | `-b`                            | 行頭の空白を無視する。                                       |          |
  | `-k <フィールド><並び替え方法>` | 並び替えるフィールド、及びその方法を指定する。<br />（オプションは複数指定可能） | `-k 2rn` |

### uniq

- コマンド

  | コマンド                           | 概要                                                         |
  | ---------------------------------- | ------------------------------------------------------------ |
  | `uniq ファイル名 [出力ファイル名]` | **ソート済みのファイル**で、重複行を取り除く。（最初の行のみを残す） |
  
- オプション

  | オプション             | 概要                                   |
  | ---------------------- | -------------------------------------- |
  | `-c`                   | 重複した行数も表示する。               |
  | `-s, skip-chars 数字`  | 最初の数字分の文字を比較しない。       |
  | `-f, skip-fields 数字` | 最初の数字分のフィールドを比較しない。 |

## サマリー

### file

- コマンド

  |コマンド|概要|
  |---|---|
  |`file ファイル名`|ファイルの内容をもとに、ファイルの形式を表示する。|

### wc

- コマンド

  | コマンド        | 概要                                                 |
  | --------------- | ---------------------------------------------------- |
  | `wc ファイル名` | 指定したファイルの行数、単語数、バイト数を表示する。 |

### md5sum, shaXXsum

- コマンド

  | コマンド                                           | 概要                         |
  | -------------------------------------------------- | ---------------------------- |
  | `md5sum [ファイル名]`<br />`shaXXsum [ファイル名]` | 入力のハッシュ値を算出する。 |
  
- 以下の順で、計算が遅く、安全性が高くなる。

  - md5sum
  - sha1sum
  - sha224sum
  - sha256sum
  - sha384sum
  - sha512sum

## 特殊な読み込み

### read

- コマンド

  |コマンド|概要|
  |---|---|
  |`read 変数名...`|標準入力を1行読み取って、区切り文字`IFS`で分割し、各変数に代入する。<br />入力が多かった場合は、最後の変数にまとめて代入される。|
  |`read -a 変数名`|標準入力を1行読み取って、区切り文字`IFS`で分割し、配列として変数に代入する。|

- オプション

  |オプション|概要|
  |---|---|
  |`-r`|エスケープ文字をそのまま読み取る。|
  |`-p プロンプト`|入力前にプロンプトを出力する。|

- 文字分割を無効化する（スペースなどをそのまま読み取る）ためには、区切り文字`IFS`を空文字にするとよい。

  ```bash
  while IFS= read -r line; do
    処理
  done
  ```

### peco

- コマンド

  |コマンド|概要|
  |---|---|
  |`peco [ファイル名]`|ファイルまたは標準入力を対話的にフィルタリングし、標準出力する。|

- `Ctrl + Space`で、行を選択し次の行に進む。

  - Macで選択できない場合は、下記を参考。
    [[Mac] peco で複数選択ができないときの対処法 - Qiita](https://qiita.com/noraworld/items/6143e54dc844719eccde)

- [peco/peco: Simplistic interactive filtering tool](https://github.com/peco/peco)
