# Bash/文字列処理/正規表現

## 共通

### 便利ツール

- [正規表現チェッカー PHP: preg_match() / JavaScript: match()](http://okumocchi.jp/php/re.php)
- [Rubular](https://rubular.com/)

### 基本正規表現と拡張正規表現

| 種類                | 使用できるメタ文字                         | 特長                               |
| ------------------- | ------------------------------------------ | ---------------------------------- |
| 基本正規表現（BRE） | `. * [ ] ^ $`<br />`\( \) \{ \}` ※1        | エスケープすべき文字が少なくて済む |
| 拡張正規表現（ERE） | `. * [ ] ^ $`<br />`( ) { }`<br />`+ ? ｜` | 表現が多彩                         |

- ※1 GNU拡張が有効な場合は、`+ ? ｜`が使用可能。

- [正規表現 - Wikipedia](https://ja.wikipedia.org/wiki/%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE#%E6%A7%8B%E6%96%87)

## Perl正規表現

### 文字

| 文字 | 概要                                                     | 別の表現                                                     |
| ---- | -------------------------------------------------------- | ------------------------------------------------------------ |
| `\d` | 数字                                                     | `[0-9]`                                                      |
| `\w` | アンダースコアを含む半角英数字                           | `[A-Za-z0-9_]`                                               |
| `\s` | スペース、タブ、改ページ、改行を含むホワイトスペース文字 | `[ \f\n\r\t\v\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]` |

- アルファベットを大文字にすると、それ以外の文字を表す。（例：`\D`は数字以外の文字）

### 最長一致・最短一致

- `*, +, ?, {n}`などの量指定子は、デフォルトでは**最長一致**で検索する。
- 量指定子の後に`?`をつけると、最短一致で検索できる。（`*?`など）

### 先読み・後読み

| 表現            | 概要       |
| --------------- | ---------- |
| `(?=パターン)`  | 肯定先読み |
| `(?!パターン)`  | 否定先読み |
| `(?<=パターン)` | 肯定後読み |
| `(?<!パターン)` | 否定後読み |

- 先読みはパターンの**先頭**、後読みはパターンの**末尾**にマッチする。

- マッチした文字列としては取得しない。

- 先読み・後読みの中では、量指定子は使えないことが多い。
