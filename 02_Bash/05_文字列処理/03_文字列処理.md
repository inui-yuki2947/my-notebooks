# Bash/文字列処理/文字列処理

## cut

### コマンド

|コマンド|概要|
|---|---|
|`cut ファイル`|各行の指定した部分を切り出す。|

### オプション

| オプション      | 概要                                                         |
| --------------- | ------------------------------------------------------------ |
| `-c 出力リスト` | 切り出し位置のリストを、**文字数**で指定する。               |
| `-f 出力リスト` | 切り出し位置のリストを、**区切り文字で分けられたフィールド番号**で指定する。 |
| `-d 区切り文字` | 区切り文字を指定する。（デフォルトはタブ文字）               |

- 出力リストは、数字をハイフン・カンマつなぎで指定する。（例：`1, 1-10, -10, 10-, 1,2,3`）
- 末尾のn番目を取得したい場合は、`rev`コマンドで文字を逆にして、取得した後に再度もとに戻す。

## tr

### コマンド

|コマンド|概要|例|
|---|---|---|
|`tr 置換前 置換後`|文字を**一文字ずつ**置換する。|`tr A-Z a-z`|
|`tr -d 文字`|文字を削除する。||
|`tr -s 文字`|文字が連続していた場合1つにまとめる。||
|`tr -ds 文字`|文字が連続していた場合1つにまとめ、文字を削除する。||

### 文字クラス

| 文字クラス  | 概要     |
| ----------- | -------- |
| `[:alpha:]` | 英字     |
| `[:lower:]` | 英小文字 |
| `[:upper:]` | 英大文字 |
| `[:digit:]` | 数字     |
| `[:alnum:]` | 英数字   |

## grep

### コマンド

| コマンド                              | 概要                                   |
| ------------------------------------- | -------------------------------------- |
| `grep [検索パターン] [ファイル名...]` | 検索パターンにマッチする行を出力する。 |

### オプション（正規表現変更系）

| オプション | 概要                                                |
| ---------- | --------------------------------------------------- |
| `-F`       | 正規表現を使わず検索する。（`fgrep`コマンドと同じ） |
| `-E`       | 拡張正規表現を使用する。（`egrep`コマンドと同じ）   |
| `-P`       | Perl拡張を行う。（GNU版のみ）                       |

### オプション（表示系）

| オプション            | 概要                                 |
| --------------------- | ------------------------------------ |
| `-c, --count`         | マッチした数のみ表示する。           |
| `-v, --invert-match`  | マッチしなかった結果のみを表示する。 |
| `-o, --only-matching` | マッチした部分のみを出力する。       |
| `-q, --quiet`         | 実行結果を画面に表示しない。         |

### オプション（ファイル名の表示系）

| オプション                  | 概要                                             |
| --------------------------- | ------------------------------------------------ |
| `-H, --with-filename`       | ファイル名を併せて表示する。                     |
| `-h, --no-filename`         | ファイル名を非表示にする。（複数ファイル指定時） |
| `-l, --files-with-matches`  | マッチしたファイル名のみを出力する。             |
| `-L, --files-without-match` | マッチしなかったファイル名のみを出力する。       |

### オプション（その他）

| オプション              | 概要                                                         |
| ----------------------- | ------------------------------------------------------------ |
| `-e 検索パターン`       | 検索パターンを追加で指定する。                               |
| `-f, --file ファイル名` | 検索パターンをファイルから読み込む。                         |
| `-R, -r, --recursive`   | サブディレクトリを再帰的に検索する。                         |
| `-i, --ignore-case`     | 大文字小文字を区別しない。（デフォルトでは区別する）         |
| `-a`                    | テキストファイルであることを明示する。<br />（`binary file matches`と言われた場合などに使用する） |
