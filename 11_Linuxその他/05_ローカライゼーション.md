# ローカライゼーション

## ロケール

### 環境変数

- ロケールに関する環境変数は、`LC_CTYPE`や`LC_COLLATE`などのカテゴリに分かれている。
- 環境変数`LC_ALL`が設定されている場合、全てのカテゴリでその値が使われる。
- 環境変数`LANG`が設定されている場合、各カテゴリで値が設定されていない場合にその値が使われる。

### ロケール値

- 書式

  ```text
  言語名_国家もしくは地域名.文字コード
  ```

- 例
  
  | ロケール値       | 概要             |
  | ---------------- | ---------------- |
  | `C`, `POSIX`     | 英語             |
  | `ja_JP.utf8`     | 日本語・Unicode  |
  | `ja_JP.shiftJIS` | 日本語・ShiftJIS |

### locale

- コマンド

  |コマンド|概要|
  |---|---|
  |`locale`|現在のロケール設定を表示する。|

## 時間

### date

- コマンド

  |コマンド|概要|
  |---|---|
  |`date`|システムクロックの現在日時を表示する。|

- `+フォーマット`オプションで、フォーマットを指定できる。（例：`+%Y/%m/%d %H:%M:%S`）

### date 時間

- コマンド

  |コマンド|概要|
  |---|---|
  |`date [[[mm]dd]HH]MM[[cc]yy][.ss]`|システムクロックを変更する。（rootユーザーのみ）|

### hwclock

- コマンド

  |コマンド|概要|
  |---|---|
  |`hwclock`|ハードウェアクロックを管理する。|

- オプション

  | オプション      | 概要                                                       |
  | --------------- | ---------------------------------------------------------- |
  | `-r, --show`    | ハードウェアクロックを表示する。                           |
  | `-w, --systohc` | システムクロックの時刻を、ハードウェアクロックに反映する。 |
  | `-s, --hctosys` | ハードウェアクロックの時刻を、システムクロックに反映する。 |

### timedatectl

- コマンド

  |コマンド|概要|
  |---|---|
  |`timedatectl サブコマンド`|systemdを採用したディストリビューションで、日付・時刻・タイムゾーンを管理する。|

- サブコマンド

  | サブコマンド        | 概要                   |
  | ------------------- | ---------------------- |
  | `status`            | 現在の状態を表示する。 |
  | `set-time 日付時刻` | 日付時刻を設定する。   |

## ntpd

### 概要

- `/etc/ntp.conf`ファイルで、NTPサーバの設定を行う。

### ntpdate

- コマンド

  |コマンド|概要|
  |---|---|
  |`ntpdate NTPサーバ名`|NTPサーバから現在時刻を取得する。|

### ntpq

- コマンド

  |コマンド|概要|
  |---|---|
  |`ntpq`|NTPサーバの状態を照会する。|

## Chrony

### 概要

- 「Chrony」は、nttpd/ntpdateの代替となるNTPサーバ／クライアントソフトウェアである。
- `/etc/chrony.conf`ファイルで、Chronyの設定を行う。

### chronyc

- コマンド

  |コマンド|概要|
  |---|---|
  |`chronyc サブコマンド`|chronydの管理を行う。|

- サブコマンド

  | サブコマンド  | 概要                                            |
  | ------------- | ----------------------------------------------- |
  | `activity`    | オンライン・オフラインのNTPサーバ数を表示する。 |
  | `sources`     | 時刻のソースを表示する。                        |
  | `sourcestats` | 時刻のソースの統計情報を表示する。              |

## タイムゾーン

### /etc/localtime

- `/etc/localtime`ファイルには、タイムゾーン情報を記述する。
- 当ファイルは、`/usr/share/zoneinfo`ディレクトリ以下のファイルのコピーにするか、シンボリックリンクとする。

### /etc/timezone

- Debian系のLinuxディストリビューションでは、`/etc/timezone`ファイルでタイムゾーンを設定する。

### TZ

- 環境変数`TZ`でも、タイムゾーンを設定できる。

### tzselect

- コマンド

  |コマンド|概要|
  |---|---|
  |`tzselect`|タイムゾーンに設定すべき値を調べることができる。|

### tzconfig

- 古いLinuxディストリビューションでは、`tzconfig`コマンドで、`/etc/localtime`, `/etc/timezone`ファイルの値をまとめて変更する。

  ```bash
  tzconfig
  ```
