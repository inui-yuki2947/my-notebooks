# 権限・ユーザー管理

## 権限管理

### su

- `su`コマンドは、ユーザーを切り替える。

  ```bash
  su [ユーザー（省略時はroot）]
  ```

- 当コマンド実行後、**切り替え先ユーザー**のパスワードが求められる。
- `-, -l`オプションで、シェルをログインシェルにする。（カレントディレクトリや環境変数を初期化する）

### sudo

- `sudo`コマンドは、rootユーザーの権限でコマンドを実行する。

  ```bash
  sudo [コマンド]
  ```

- 当コマンド実行後、**今のユーザー**のパスワードが求められる。
- `sudo`コマンドを使うと、`/var/log/secure`にログが残る。

### visudo

- `visudo`コマンドで、sudoの権限を管理できる。（`/etc/sudoers`ファイルを安全に編集できる）

### /etc/sudoersファイル

- 書式

  ```text
  誰が どのコンピュータで=(誰として)何を実行する
  ```

- 例

  ```text
  root ALL=(ALL) ALL
  ```

## ユーザー管理

### passwd

- `passwd`コマンドで、ユーザーのパスワードを変更できる。（rootユーザー以外は自分のパスワードに限る）

  ```bash
  passwd [ユーザー名]
  ```

### vipw

- `vipw`コマンドで、ユーザー一覧情報を編集できる。（`/etc/passwd`ファイルを安全に編集できる）

### useradd, userdel, usermod

- `useradd, userdel, usermod`コマンドは、**非対話的に**ユーザーを追加・削除・変更する。

  ```bash
  useradd ユーザー名
  ```

### adduser, deluser

- `adduser, deluser`コマンドは、**対話的に**ユーザーを追加・削除する。

### whoami, groups

- `whoami`コマンドは、自分のユーザー名を表示する。
- `groups`コマンドは、自分が所属するグループ一覧を表示する。

### who

- `who`コマンドは、ログインしているユーザー一覧を表示する。

### w

- `w`コマンドは、ログインしているユーザー一覧と**その実行中プロセス**を表示する。
