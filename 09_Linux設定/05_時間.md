# 時間

## 共通

### date

- コマンド

|コマンド|概要|
|---|---|
|`date`|システムクロックの現在日時を表示する。|

- オプション

|オプション|概要|
|---|---|
|`+フォーマット`|フォーマットを指定できる。（例：`+%Y/%m/%d %H:%M:%S`）|

- フォーマット

| フォーマット         | 出力例                |
| -------------------- | --------------------- |
| `+%Y%m%d`            | `20220101`            |
| `+%Y/%m/%d %H:%M:%S` | `2022/01/01 00:00:00` |

### date 日時

- コマンド

| コマンド    | 概要                                                         |
| ----------- | ------------------------------------------------------------ |
| `date 日時` | システムクロックの現在日時を変更する。（rootユーザーのみ）<br />日時形式は、`[[[mm]dd]HH]MM[[cc]yy][.ss]` |

### hwclock

- コマンド

|コマンド|概要|
|---|---|
|`hwclock`|ハードウェアクロックを管理する。|

- オプション

| オプション      | 概要                                                       |
| --------------- | ---------------------------------------------------------- |
| `-r, --show`    | ハードウェアクロックを表示する。                           |
| `-w, --systohc` | システムクロックの時刻を、ハードウェアクロックに反映する。 |
| `-s, --hctosys` | ハードウェアクロックの時刻を、システムクロックに反映する。 |

### timedatectl

- コマンド

|コマンド|概要|
|---|---|
|`timedatectl サブコマンド`|systemdを採用したディストリビューションで、日付・時刻・タイムゾーンを管理する。|

- サブコマンド

| サブコマンド        | 概要                   |
| ------------------- | ---------------------- |
| `status`            | 現在の状態を表示する。 |
| `set-time 日付時刻` | 日付時刻を設定する。   |

## ntpd

### 概要

- `/etc/ntp.conf`ファイルで、NTPサーバの設定を行う。

### ntpdate, ntpq

- コマンド

|コマンド|概要|
|---|---|
|`ntpdate NTPサーバ名`|NTPサーバから現在時刻を取得する。|
|`ntpq`|NTPサーバの状態を照会する。|

## Chrony

### 概要

- 「Chrony」は、nttpd/ntpdateの代替となるNTPサーバ／クライアントソフトウェアである。
- `/etc/chrony.conf`ファイルで、Chronyの設定を行う。

### chronyc

- コマンド

|コマンド|概要|
|---|---|
|`chronyc サブコマンド`|chronydの管理を行う。|

- サブコマンド

| サブコマンド  | 概要                                            |
| ------------- | ----------------------------------------------- |
| `activity`    | オンライン・オフラインのNTPサーバ数を表示する。 |
| `sources`     | 時刻のソースを表示する。                        |
| `sourcestats` | 時刻のソースの統計情報を表示する。              |

## タイムゾーン

### 設定

- ファイル

| ファイル         | 概要                                                         |
| ---------------- | ------------------------------------------------------------ |
| `/etc/localtime` | タイムゾーン情報を記述する。<br />`/usr/share/zoneinfo/`以下のファイルのコピーにするか、シンボリックリンクとする。 |
| `/etc/timezone`  | Debian系のLinuxディストリビューションで、タイムゾーン情報を記述する。 |

- 環境変数`TZ`でも、タイムゾーンを設定できる。

### tzselect, tzconfig

- コマンド

|コマンド|概要|
|---|---|
|`tzselect`|タイムゾーンに設定すべき値を調べることができる。|
|`tzconfig`|`/etc/localtime`, `/etc/timezone`ファイルの値をまとめて変更する。|

## カレンダー

### cal

- コマンド

| コマンド           | 概要                                   |
| ------------------ | -------------------------------------- |
| `cal`              | 今月のカレンダーを表示する。           |
| `cal [[日] 月] 年` | 指定した年月日のカレンダーを表示する。 |

- オプション

| オプション | 概要                                  |
| ---------- | ------------------------------------- |
| `-3`       | 先月・今月・来月の3ヶ月分を表示する。 |
| `-y`       | 1年分を表示する。                     |
