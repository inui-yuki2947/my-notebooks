# ブートローダとカーネル

## ブートローダ

### 概要

- ブートローダの主な役割は、起動デバイス上からカーネルをメモリ上に読み込むことである。

### GRUB

- GRUB (GRand Unified Bootloader)は、Linuxの代表的なブートローダである。
- GRUBには以下のバージョンがある。
  - バージョン0.9x系の、GRUB Legacy
  - バージョン1.9x系の、GRUB 2

### grub-install

- `grub-install`コマンドで、GRUBをインストールできる。

  ```bash
  grub-install インストールデバイス
  ```

### /boot/grub/menu.lst

- GRUB Legacyでは、`/boot/grub/menu.lst`ファイルに設定を記述する。
- パラメータ
  - `timeout`は、メニューを表示する時間を指定する。
  - `kernel`は、起動するカーネルイメージと起動オプションを指定する。

### grub-mkconfig

- GRUB 2では、`grub-mkconfig`コマンドで、`/etc/default/grub`ファイルをもとに、`/boot/grub/grub.cfg`ファイルを生成する。

  ```bash
  grub-mkconfig
  ```

### ブートオプション

- 起動時の画面で「E」キーを押すと、ブートオプションを設定できる。

## カーネル

### lsmod

- `lsmod`コマンドは、ロードされているカーネルモジュールを表示する。
  （`/proc/modules`ファイルを見やすく表示する）

  ```bash
  lsmod
  ```

### modprobe

- `modprobe`コマンドは、カーネルモジュールのロード・アンロードを行う。

  ```bash
  modprobe [カーネルモジュール名]
  ```

### uname

- `uname`コマンドは、システムのアーキテクチャやOSを表示する。

  ```bash
  uname
  ```

- `-a`オプションで、詳細情報を表示する。

### dmesg

- `dmesg`（display message）コマンドは、システム起動時にカーネルがどのような処理を行ったか確認できる。

  ```bash
  dmesg
  ```
