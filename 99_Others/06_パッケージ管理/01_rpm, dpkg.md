# Others/パッケージ管理/rpm, dpkg

## 共通

### パッケージファイル名

- 一覧

| コマンド | パッケージファイル名                                      | パッケージファイル名（例）  |
| -------- | --------------------------------------------------------- | --------------------------- |
| rpm      | `パッケージ名-バージョン-リリース番号.アーキテクチャ.rpm` | `bash-3.1-10.i386.rpm`      |
| dpkg     | `パッケージ名_バージョン-リビジョン_アーキテクチャ.deb`   | `procmail_3.22-16_i386.deb` |

- インストール時のみ**パッケージファイル名**を使い、それ以外は**パッケージ名**を使う。

### コマンド

- 一覧

| コマンド | インストール | アンインストール | 表示 |
| -------- | ------------ | ---------------- | ---- |
| `rpm`    | `-i`         | `-e`             | `-q` |
| `dpkg`   | `-i`         | `-r, -P`         | `-l` |

## rpm系

### rpm

- コマンド

|コマンド|概要|
|---|---|
|`rpm コマンドオプション`|RPMパッケージの管理を行う。|

### rpm（インストール系）

- コマンドオプション

| コマンドオプション                   | 概要                                               |
| ------------------------------------ | -------------------------------------------------- |
| `-i, --install パッケージファイル名` | パッケージをインストールする。                     |
| `-F, --freshen パッケージファイル名` | パッケージをアップグレードする。                   |
| `-U, --upgrade パッケージファイル名` | パッケージを（インストール＆）アップグレードする。 |
| `-e, --erase パッケージ名`           | パッケージをアンインストールする。                 |
  
- オプション

| オプション   | 概要                                    |
| ------------ | --------------------------------------- |
| `-v`         | 詳細な情報を表示する。                  |
| `-h, --hash` | 進行状況を「#」で表示する。（指定推奨） |

- 例

  ```bash
  rpm -ivh パッケージファイル名
  ```

### rpm（表示系）

- コマンドオプション

| コマンドオプション | 概要                                                 |
| ------------------ | ---------------------------------------------------- |
| `-q パッケージ名`  | 指定したインストール済みパッケージの情報を表示する。 |
| `-qa`              | 全てのインストール済みパッケージの情報を表示する。   |

- オプション

| オプション          | 概要                                                         |
| ------------------- | ------------------------------------------------------------ |
| `-i, --info`        | パッケージの詳細情報を表示する。                             |
| `-l, --list`        | パッケージに含まれるファイルを表示する。                     |
| `-c  --configfiles` | 設定ファイルのみを表示する。                                 |
| `-d  --docfiles`    | 文書ファイルのみを表示する。                                 |
| `-f ファイル名`     | 指定したファイルが、どのパッケージからインストールされたかを表示する。 |
| `-R, --requires`    | パッケージが依存しているファイルを表示する。                 |

- 例

  ```bash
  rpm -qi パッケージ名
  ```

### rpm2cpio

- コマンド

|コマンド|概要|
|---|---|
|`rpm2cpio パッケージファイル名`|RPMパッケージをインストールせず展開する。|

## dpkg系

### dpkg

- コマンド

|コマンド|概要|
|---|---|
|`dpkg アクション`|**ローカルで**Debian形式パッケージの管理を行う。|

### dpkg（インストール系）

- アクション

| アクション                           | 概要                                                         |
| ------------------------------------ | ------------------------------------------------------------ |
| `-i, --install パッケージファイル名` | パッケージをインストールする。                               |
| `-r, --remove パッケージ名`          | パッケージをアンインストールする。（設定ファイルを残す）     |
| `-P, --purge パッケージ名`           | パッケージをアンインストールする。（設定ファイルも削除する） |

### dpkg（表示系）

- アクション

| アクション                              | 概要                                                         |
| --------------------------------------- | ------------------------------------------------------------ |
| `-l, --list [パッケージ名検索パターン]` | インストール済みパッケージ一覧を表示する。                   |
| `-s, --status [パッケージ名]`           | パッケージの詳細を表示する。                                 |
| `-L, --listfiles [パッケージ名]`        | パッケージに含まれるファイル一覧を表示する。                 |
| `-S, --search [ファイル名検索パターン]` | 指定したファイルがどのパッケージからインストールされたかを表示する。 |

### dpkg-reconfigure

- コマンド

|コマンド|概要|
|---|---|
|`dpkg-reconfigure パッケージ名`|インストール済みパッケージについて、対話的な再設定ができる。|
