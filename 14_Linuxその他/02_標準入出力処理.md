# 標準入出力処理

## tee

### コマンド

| コマンド              | 概要                                       |
| --------------------- | ------------------------------------------ |
| `tee [ファイル名...]` | 標準入力を、標準出力とファイルに出力する。 |

### オプション

| オプション | 概要                             |
| ---------- | -------------------------------- |
| `-a`       | ファイルに上書きでなく追記する。 |

### その他

- 複数ファイルに同じ内容を出力したいときに有用である。

## xargs

### コマンド

| コマンド         | 概要                                           |
| ---------------- | ---------------------------------------------- |
| `xargs コマンド` | 標準入力を、指定したコマンドの引数として渡す。 |

### オプション

| オプション      | 概要                                                   | 例                                            |
| --------------- | ------------------------------------------------------ | --------------------------------------------- |
| `-I 置換文字列` | 引数を任意の位置に挿入できる。（`{}`などをよく使う？） | `xargs -I {} コマンド 引数 {}`                |
| `-0`            | ヌル文字を区切り文字として扱う。                       | `find . -name '*.txt' -print0 ｜ xargs -0 ls` |

### その他

- 引数をコマンド置換で指定する場合と比べ、引数が長くなる場合にも対応できるという利点がある。
- 標準入力が空であった場合
  - BSD系では、コマンドは実行されない。（終了ステータスは0）
  - GNU系では、コマンドは実行される。（`--no-run-if-empty`オプションで、実行させないようにできる）

## read

### コマンド

| コマンド         | 概要                                                         |
| ---------------- | ------------------------------------------------------------ |
| `read 変数名...` | 標準入力を1行読み取って、区切り文字`IFS`で分割し、各変数に代入する。<br />入力が多かった場合は、最後の変数にまとめて代入される。 |
| `read -a 変数名` | 標準入力を1行読み取って、区切り文字`IFS`で分割し、配列として変数に代入する。 |

### オプション

| オプション      | 概要                                                         |
| --------------- | ------------------------------------------------------------ |
| `-r`            | エスケープ文字をそのまま読み取る。                           |
| `-p プロンプト` | 入力前にプロンプトを出力する。                               |
| `-s`            | 入力文字を表示しない。（パスワードを入力する場合などに使う） |

### その他

- 文字分割を無効化する（スペースなどをそのまま読み取る）ためには、区切り文字`IFS`を空文字にするとよい。

  ```bash
  while IFS= read -r line; do
    処理
  done
  ```

## peco

### コマンド

| コマンド            | 概要                                                         |
| ------------------- | ------------------------------------------------------------ |
| `peco [ファイル名]` | ファイルまたは標準入力を対話的にフィルタリングし、標準出力する。 |

### 操作

- `Ctrl + Space`で、行を選択し次の行に進む。
  - Macで選択できない場合は、下記を参考。
    [[Mac] peco で複数選択ができないときの対処法 - Qiita](https://qiita.com/noraworld/items/6143e54dc844719eccde)

### ドキュメント

- [peco/peco: Simplistic interactive filtering tool](https://github.com/peco/peco)
