# Gitカスタマイズ

## gitignore

- `.gitignore`ファイルには、Git管理に含めないファイルを記述する。
- 値がスラッシュから始まらない場合、全サブディレクトリの同名ファイル・ディレクトリが除外される。
- あとからgitignoreを追加する場合は、`git rm --cached`を行う必要がある。
  ただしその場合、それをプルした他ユーザーは、そのファイルが消えてしまう。
  [.gitignoreを後から設定し、git管理から除外する方法 - Qiita](https://qiita.com/yutosa3/items/25ab031c8061e8c9a4c4)

## Gitフック

### 共通

- [Git - Git フック](https://git-scm.com/book/ja/v2/Git-%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA-Git-%E3%83%95%E3%83%83%E3%82%AF)
- コミット・プッシュ前のフックでは、終了ステータスが0以外だった場合、そのコミット・プッシュが中断される。

### 作成方法

- `.git/hooks`ディレクトリ内に、フック名を名前とする実行可能なスクリプトファイルを配置する。
- `git init`すると、同ディレクトリにサンプルが格納されるので、これをカスタマイズしファイル名末尾の`.sample`を削除するとよい。

### クライアントサイドフック

- クライアントサイドフックは、リポジトリクローン時にコピーされない。
- 種類
  - pre-commit：コミットメッセージが入力される前
  - prepare-commit-msg：コミットメッセージエディターが起動する直前
  - commit-msg：コミットメッセージを保存した後
  - post-commit：コミットプロセスが全て完了した後

### サーバーサイドフック

- 種類
  - pre-receive：プッシュ前（複数ブランチにプッシュされた場合は、一度のみ実行）
  - update：プッシュ前（複数ブランチにプッシュされた場合は、各ブランチについて実行）
  - post-receive：プッシュ後
