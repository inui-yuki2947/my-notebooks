# 容量・メモリ管理

## iノード

### 概要

- 作成できるiノードの数は、ファイルシステム作成時に設定され、あとから変更はできない。
- iノードが枯渇すると、ファイルを新規保存できなくなる。

## du

### コマンド

| コマンド                          | 概要                                               |
| --------------------------------- | -------------------------------------------------- |
| `du [ファイル名やディレクトリ名]` | ファイルやディレクトリが占めている容量を表示する。 |

### オプション（表示系）

| オプション | 概要                                                         |
| ---------- | ------------------------------------------------------------ |
| `-a`       | ディレクトリだけでなく、ファイルのディスク使用量も表示する。 |
| `-s`       | サブディレクトリの情報を非表示にする。                       |
| `-S`       | サブディレクトリの容量を含めない。                           |

### オプション（表示形式系）

| オプション | 概要                                                    |
| ---------- | ------------------------------------------------------- |
| `-h`       | 人間に分かりやすい単位で容量を表示する。                |
| `-i`       | 空き容量の代わりに、iノードの使用状況について表示する。 |

## df

### コマンド

| コマンド                          | 概要                                   |
| --------------------------------- | -------------------------------------- |
| `df [デバイス名やディレクトリ名]` | ファイルシステムの空き容量を表示する。 |

## free

### コマンド

| コマンド | 概要                                   |
| -------- | -------------------------------------- |
| `free`   | メモリの利用状況、空き状況を表示する。 |

### オプション

| オプション | 概要               |
| ---------- | ------------------ |
| `-m`       | MB単位で表示する。 |

### その他

- Linuxは、使われていない物理メモリをできるだけキャッシュに割り当てようとする。
  そのため、Linuxの起動時間が長くなるほど、free列の値は小さくなる。

## /proc/meminfo

### ファイル

| ファイル        | 概要                             |
| --------------- | -------------------------------- |
| `/proc/meminfo` | 詳細なメモリの情報が格納される。 |
