# 配列・スライス

## 共通

### 型

- 型

| 型           | 例       | 概要     | 要素数 | 参照方法 | 初期値                          |
| ------------ | -------- | -------- | ------ | -------- | ------------------------------- |
| `[要素数]型` | `[3]int` | 配列     | 不変   | 値渡し   | `[0, 0, 0]`, `["", "", ""]`など |
| `[]型`       | `[]int`  | スライス | 可変   | 参照渡し | `nil`                           |

### 生成

- 書式

| 書式                                | 概要                               |
| ----------------------------------- | ---------------------------------- |
| `[要素数]型{初期値1, 初期値2, ...}` | 要素数を指定して、配列を生成する。 |
| `[...]型{初期値1, 初期値2, ...}`    | 要素数を省略して、配列を生成する。 |
| `[]型{値1, 値2, ...}`               | スライスを生成する。               |

- 初期値を多く与えると、コンパイルエラーとなる。

### スライス式

- スライス式

| 書式                               | 名称           | 概要                                                         |
| ---------------------------------- | -------------- | ------------------------------------------------------------ |
| `配列またはスライス[low:high]`     | 簡易スライス式 | 指定した配列・スライスから、インデックス`low`から`high`までの要素をもつスライスを生成する。（`low, high`は省略可能） |
| `配列またはスライス[low:high:max]` | 完全スライス式 | 簡易スライス式の挙動に加え、容量が`max - low`となる。        |

- スライス式は、文字列にも適用できる。（インデックスはバイト列単位）

### 要素数と容量

- `len`関数で、配列・スライスの要素数を表示する。
- `cap`関数で、スライスの容量（メモリに確保された容量）を表示する。

### append

- `append`関数で、スライスの要素を追加できる。（変数への代入が必須）

  ```go
  変数 = append(スライス, 要素1, 要素2, ...)
  ```

- スライスの自動拡張が起こる場合は、参照メモリ領域が変わる。

### copy

- `copy`関数は、1番目の引数のスライスを、2番目の引数のスライスの内容で塗りつぶすようにコピーする。

  ```go
  copy(コピー先スライス, コピー元スライス)
  ```

## マップ

### 概要

- マップとは、連想配列のような型であり、`map[キーの型]要素の型`で表す。

### マップの生成

- リテラルで生成する場合

  ```go
  map[キーの型]要素の型{
    キー1: 値1,
    キー2: 値2,
    ...
  }
  ```

- マップ内では、スライス・マップ・構造体の型名を省略できる。

### マップの参照

- 参照時2番目の変数には、「キーに対応する値が存在するか」の真偽値（`ok`という名前が慣例）が代入される。

### delete

- `delete`関数は、マップから指定した要素を取り除く。

  ```go
  delete(マップ, キー)
  ```
