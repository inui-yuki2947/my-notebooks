# ファイル処理その他

## ハードリンクとソフトリンク

### 概要

|項目|リンク先|元のパスが変わると|ディレクトリ・別ファイルシステムへのリンク|パーミッションの表示|
|---|---|---|---|---|
|ハードリンク|iノード|影響はない|作成できない|オリジナルと同じ|
|ソフトリンク（シンボリックリンク）|ファイルパス|アクセスできなくなる|作成できる|デフォルト（実際にはオリジナルが適用）|

### その他

- `ls`コマンドで、ハードリンクが作成されている数を確認できる。
- `ls -i`コマンドで、iノード番号を確認できる。
- `cp`コマンドは、シンボリックリンクのリンク元をコピーするが、
  `-d`オプションで、シンボリックリンク自体をコピーできる。

## ln

### コマンド

|コマンド|概要|
|---|---|
|`ln オリジナルのパス リンク名のパス`|リンクを作成する。|

### オプション

| オプション    | 概要                                                         |
| ------------- | ------------------------------------------------------------ |
| `-s`          | シンボリックリンクを作成する。（デフォルトはハードリンク）   |
| `-f, --force` | リンクファイルと同じ名前のファイルがあっても、強制的に上書きする。 |

- 第1引数のオリジナルのパスは、カレントディレクトリからのパスではなく、リンク名から見たパスを指定する。

## diff, comm, cmp

### コマンド

| コマンド                   | 概要                                                         |
| -------------------------- | ------------------------------------------------------------ |
| `diff ファイル1 ファイル2` | 2つのファイルの差分を表示する。                              |
| `comm ファイル1 ファイル2` | 「ファイル1のみにある行、ファイル2のみにある行、両方にある行」を3列で表示する。 |
| `cmp ファイル1 ファイル2`  | 2つのファイルをバイト単位で比較する。                        |

## patch

### コマンド

| コマンド                          | 概要                                     |
| --------------------------------- | ---------------------------------------- |
| `patch 元のファイル 差分ファイル` | 単一ファイルについてのパッチを適用する。 |
| `patch < 差分ファイル`            | 複数ファイルについてのパッチを適用する。 |

### オプション

|オプション|概要|
|---|---|
|`-p 個数`|差分ファイルから、指定した個数分のパス指定を取り除く。|
