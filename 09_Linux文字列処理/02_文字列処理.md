# 文字列処理

## 文字列出力

### echo

- コマンド
  
  | コマンド           | 概要                       |
  | ------------------ | -------------------------- |
  | `echo [文字列...]` | 文字列及び改行を出力する。 |
  
- オプション
  
  |オプション|概要|
  |---|---|
  |`-e`|エスケープシーケンスを解釈する。<br />（BSD系では、エスケープシーケンス`\e`は解釈されない？）|
  |`-n`|改行を出力しない。|

### printf

- コマンド

  |コマンド|概要|
  |---|---|
  |`printf 書式文字列 [文字列...]`|文字列を整形して出力する。（改行は出力しない）|

- 書式文字列

  | 書式文字列 | 概要                     |
  | ---------- | ------------------------ |
  | `%s`       | 文字列                   |
  | `%u`       | 10進数の整数（符号なし） |

- オプションとして認識される文字列も、正常に出力できる。

  ```bash
  printf '%s\n' "$1"
  ```

### seq

- コマンド

  |コマンド|概要|
  |---|---|
  |`seq [開始の数 [増分]] 終了の数`|連続する数字を出力する。|

- オプション

  |オプション|概要|
  |---|---|
  |`-w`|ゼロ埋めを行う。|

### フォントの変更

- 書式

  | 書式                    | 概要                                           | 例            |
  | ----------------------- | ---------------------------------------------- | ------------- |
  | `\e[m`                  | 以降の文字列のフォントをデフォルトに戻す。     | `\e[m`        |
  | `\e[コードm`            | 以降の文字列のフォントを変更する。             | `\e[32m`      |
  | `\e[コード,コード,...m` | 以降の文字列のフォントを変更する。（複数指定） | `\e[3;31;44m` |

- コード

  | コード | 内容                                          |
  | ------ | --------------------------------------------- |
  | 0      | 指定をリセットし未指定状態に戻す（0は省略可） |
  | 1      | 太字                                          |
  | 2      | 薄く表示                                      |
  | 3      | イタリック                                    |
  | 4      | アンダーライン                                |
  | 5      | ブリンク                                      |
  | 6      | 高速ブリンク                                  |
  | 7      | 文字色と背景色の反転                          |
  | 8      | 表示を隠す（コピペ可能）                      |
  | 9      | 取り消し                                      |

- コード（色系）

  | コード（文字色） | コード（背景色） | 色       |
  | ---------------- | ---------------- | -------- |
  | 30               | 40               | 黒       |
  | 31               | 41               | 赤       |
  | 32               | 42               | 緑       |
  | 33               | 43               | 黄色     |
  | 34               | 44               | 青       |
  | 35               | 45               | マゼンダ |
  | 36               | 46               | シアン   |
  | 37               | 47               | 白       |

- [echoコマンドで文字色や背景色を変更する - きり丸の技術日記](https://nainaistar.hatenablog.com/entry/2021/06/11/120000)

### tput

- コマンド

  | コマンド            | 概要                                       |
  | ------------------- | ------------------------------------------ |
  | `tput setaf 色番号` | 以降の文字列の色を変更する。               |
  | `tput setab 色番号` | 以降の文字列の背景色を変更する。           |
  | `tput sgr0`         | 以降の文字列のフォントをデフォルトに戻す。 |

- [【シェル芸奥義】tputを使ってみる【エスケープシークエンス】 - Qiita](https://qiita.com/onokatio/items/5d282b72ac5565ae4569)

## 文字列加工

### cut

- コマンド

  |コマンド|概要|
  |---|---|
  |`cut ファイル`|各行の指定した部分を切り出す。|

- オプション

  | オプション      | 概要                                                         |
  | --------------- | ------------------------------------------------------------ |
  | `-c 出力リスト` | 切り出し位置のリストを、**文字数**で指定する。               |
  | `-f 出力リスト` | 切り出し位置のリストを、**区切り文字で分けられたフィールド番号**で指定する。 |
  | `-d 区切り文字` | 区切り文字を指定する。（デフォルトはタブ文字）               |

  - 出力リストは、数字をハイフン・カンマつなぎで指定する。（例：`1, 1-10, -10, 10-, 1,2,3`）

### tr

- コマンド

  |コマンド|概要|例|
  |---|---|---|
  |`tr 置換前 置換後`|文字を**一文字ずつ**置換する。|`tr A-Z a-z`|
  |`tr -d 文字`|文字を削除する。||
  |`tr -s 文字`|文字が連続していた場合1つにまとめる。||
  |`tr -ds 文字`|文字が連続していた場合1つにまとめ、文字を削除する。||

- 文字クラス

  | 文字クラス  | 概要     |
  | ----------- | -------- |
  | `[:alpha:]` | 英字     |
  | `[:lower:]` | 英小文字 |
  | `[:upper:]` | 英大文字 |
  | `[:digit:]` | 数字     |
  | `[:alnum:]` | 英数字   |

### grep

- コマンド

  | コマンド                              | 概要                                   |
  | ------------------------------------- | -------------------------------------- |
  | `grep [検索パターン] [ファイル名...]` | 検索パターンにマッチする行を出力する。 |

- 正規表現変更系オプション

  | オプション | 概要                                                |
  | ---------- | --------------------------------------------------- |
  | `-F`       | 正規表現を使わず検索する。（`fgrep`コマンドと同じ） |
  | `-E`       | 拡張正規表現を使用する。（`egrep`コマンドと同じ）   |
  | `-P`       | Perl拡張を行う。（GNU版のみ）                       |

- 表示系オプション

  | オプション            | 概要                                 |
  | --------------------- | ------------------------------------ |
  | `-c, --count`         | マッチした数のみ表示する。           |
  | `-v, --invert-match`  | マッチしなかった結果のみを表示する。 |
  | `-o, --only-matching` | マッチした部分のみを出力する。       |
  | `-q, --quiet`         | 実行結果を画面に表示しない。         |

- ファイル名の表示系オプション

  | オプション                  | 概要                                             |
  | --------------------------- | ------------------------------------------------ |
  | `-H, --with-filename`       | ファイル名を併せて表示する。                     |
  | `-h, --no-filename`         | ファイル名を非表示にする。（複数ファイル指定時） |
  | `-l, --files-with-matches`  | マッチしたファイル名のみを出力する。             |
  | `-L, --files-without-match` | マッチしなかったファイル名のみを出力する。       |

- その他オプション

  | オプション              | 概要                                                         |
  | ----------------------- | ------------------------------------------------------------ |
  | `-e 検索パターン`       | 検索パターンを追加で指定する。                               |
  | `-f, --file ファイル名` | 検索パターンをファイルから読み込む。                         |
  | `-R, -r, --recursive`   | サブディレクトリを再帰的に検索する。                         |
  | `-i, --ignore-case`     | 大文字小文字を区別しない。（デフォルトでは区別する）         |
  | `-a`                    | テキストファイルであることを明示する。<br />（`binary file matches`と言われた場合などに使用する） |
