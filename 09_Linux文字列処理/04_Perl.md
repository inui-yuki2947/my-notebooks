# Perl

## 共通

### 概要

- コマンド

  | コマンド                          | 概要                                                         |
  | --------------------------------- | ------------------------------------------------------------ |
  | `perl -e スクリプト [ファイル名]` | 指定したファイル（省略時は標準入力）に対して、Perlスクリプトを実行する。 |

- オプション

  | オプション   | 概要                                                         |
  | ------------ | ------------------------------------------------------------ |
  | `-n`         | 入力の各行に対して、コマンドを実行する。<br />（`while (<>) { スクリプト }`とする） |
  | `-p`         | 入力の各行に対して、コマンドを実行して出力する。<br/>（`while (<>) { スクリプト } continue { print; }`とする） |
  | `-i[拡張子]` | 拡張子を付けたファイルに出力する。                           |
  | `-l`         | 出力後に改行を行う。                                         |
  | `-0`         | 入力レコードの区切り文字を指定する。（未指定時はヌル文字）   |

- [日本語 perl texinfo - Option](https://flex.phys.tohoku.ac.jp/texi/perl/perl_4.html)

- [Perl Lesson 1](https://www.gsid.nagoya-u.ac.jp/ohna/perl_lesson/perl01.html)
- [Perlワンライナー - eオプションの解説 - Perlゼミ|Perlの基礎をインストールからサンプルで丁寧に解説](https://perlzemi.com/blog/20161121147982.html)
- [awkユーザーのためのPerlワンライナー - 忘れないようにメモっとく](https://akiniwa.hatenablog.jp/entry/2014/12/20/194640)
- [マッチした部分文字列の取得 - Perlにおける正規表現](https://www.javadrive.jp/perl/regex/ref/)

### 変数

- 変数

  | 変数     | 概要                                          |
  | -------- | --------------------------------------------- |
  | `$_`     | 最後に読み込んだレコード                      |
  | `$.`     | レコード番号                                  |
  | `$&`     | マッチした文字列全体                          |
  | `` $` `` | マッチした文字列の、前の文字列                |
  | `$'`     | マッチした文字列の、後の文字列                |
  | `$n`     | マッチした文字列の、括弧で囲ったn番目の文字列 |

### 制御構造

- 記法

  | 記法                                   | 概要                                 |
    | -------------------------------------- | ------------------------------------ |
  | `if (条件) {処理}`<br />`処理 if 条件` | 条件を満たす場合に、処理を実行する。 |

### 正規表現

- 式

  | 式                                              | 概要                                                     |
  | ----------------------------------------------- | -------------------------------------------------------- |
  | `変数 =~ /正規表現/`<br />`変数 =~ m/正規表現/` | 変数の文字列が正規表現にマッチしたかを、真偽値で返す。   |
  | `変数 =~ s/置換前/置換後/`                      | 変数の文字列を置換した結果を、変数に代入する。           |
  | `変数 =~ y/置換前/置換後/`                      | 変数の文字列を文字単位で置換した結果を、変数に代入する。 |

- `変数 =~`を省略すると、`$_ =~`となる。

- 改行の扱い

  | モード                     | 概要                                                         |
  | -------------------------- | ------------------------------------------------------------ |
  | デフォルト                 | `^, $`は、文字列全体の開始・終了にマッチする。<br />`.`は、改行文字を除く文字列にマッチする。 |
  | `/m`修飾子（複数行モード） | `^, $`が、各行の開始・終了にもマッチするようになる。         |
  | `/s`修飾子（単一行モード） | `.`が、改行文字を除む文字列にマッチするようになる。          |

- [Perl：正規表現を用いた文字列の検索・置換](https://www.bold.ne.jp/engineer-club/perl-regular-expression)
