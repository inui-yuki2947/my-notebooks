# rpm, dpkg

## 共通

### パッケージファイル名

| コマンド | パッケージファイル名                                      | パッケージファイル名（例）  |
| -------- | --------------------------------------------------------- | --------------------------- |
| rpm      | `パッケージ名-バージョン-リリース番号.アーキテクチャ.rpm` | `bash-3.1-10.i386.rpm`      |
| dpkg     | `パッケージ名_バージョン-リビジョン_アーキテクチャ.deb`   | `procmail_3.22-16_i386.deb` |

- インストール時のみ**パッケージファイル名**を使い、それ以外は**パッケージ名**を使う。

### コマンド

| コマンド | インストール    | アンインストール              | 表示         |
| -------- | --------------- | ----------------------------- | ------------ |
| rpm      | `-i, --install` | `-e, --erase`                 | `-q`         |
| dpkg     | `-i, --install` | `-r, --remove`, `-P, --purge` | `-l, --list` |

## rpm系

### rpm

- `rpm`コマンドは、RPMパッケージの管理を行う。

  ```bash
  rpm コマンドオプション
  ```

### rpm（インストール・更新系）

- コマンドオプション

  - `-i, --install パッケージファイル名`オプションで、パッケージをインストールする。
  - `-F, --freshen パッケージファイル名`オプションで、パッケージをアップグレードする。
  - `-U, --upgrade パッケージファイル名`オプションで、パッケージを（インストール＆）アップグレードする。
- その他オプション

  - `-v`オプションで、詳細な情報を表示する。
  - `-h, --hash`オプションで、進行状況を「#」で表示する。（指定推奨）

- 例

  ```bash
  rpm -ivh パッケージファイル名
  ```

### rpm（アンインストール系）

- `-e, --erase パッケージ名`オプションで、パッケージをアンインストールする。

### rpm（表示系）

- コマンドオプション

  - `-q パッケージ名`オプションで、指定したインストール済みパッケージの情報を表示する。
  - `-qa`オプションで、全てのインストール済みパッケージの情報を表示する。

- その他オプション

  - `-i, --info`オプションで、指定したパッケージの詳細情報を表示する。
  - `-l, --list`オプションで、パッケージに含まれるファイルを表示する。
  - `-c  --configfiles`オプションで、設定ファイルのみを表示する。
  - `-d  --docfiles`オプションで、文書ファイルのみを表示する。
  - `-f ファイル名`オプションで、指定したファイルがどのパッケージからインストールされたかを表示する。
  - `-R, --requires`オプションで、指定したパッケージが依存しているファイルを表示する。

- 例

  ```bash
  rpm -qi パッケージ名
  ```

### rpm2cpio

- `rpm2cpio`コマンドで、RPMパッケージをインストールせず展開する。

  ```bash
  rpm2cpio パッケージファイル名
  ```

## dpkg系

### dpkg

- `dpkg`コマンドは、**ローカルで**Debian形式パッケージの管理を行う。

  ```bash
  dpkg アクション
  ```

### dpkg（インストール系）

- `-i, --install パッケージファイル名`アクションで、パッケージをインストールする。

### dpkg（アンインストール系）

- `-r, --remove パッケージ名`アクションで、設定ファイルを残して、パッケージをアンインストールする。
- `-P, --purge パッケージ名`アクションで、設定ファイルも含め、パッケージをアンインストールする。

### dpkg（表示系）

- `-l, --list [パッケージ名検索パターン]`アクションで、インストール済みパッケージ一覧を表示する。
- `-s, --status [パッケージ名]`アクションで、パッケージの詳細を表示する。
- `-L, --listfiles [パッケージ名]`アクションで、パッケージに含まれるファイル一覧を表示する。
- `-S, --search [ファイル名検索パターン]`アクションで、指定したファイルがどのパッケージからインストールされたかを表示する。

### dpkg-reconfigure

- `dpkg-reconfigure`コマンドで、インストール済みパッケージについて、対話的な再設定ができる。

  ```bash
  dpkg-reconfigure パッケージ名
  ```
