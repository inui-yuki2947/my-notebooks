# ファイル内容処理

## 単純表示

### 共通

- コマンド

  |コマンド|概要|
  |---|---|
  |`cat [ファイル名...]`|ファイルの内容を、連結して表示する。|
  |`head [ファイル名...]`|ファイルの内容を、先頭のみ表示する。|
  |`tail [ファイル名...]`|ファイルの内容を、末尾のみ表示する。|
  |`nl [ファイル名...]`|ファイルの内容を、行番号付きで表示する。|
  |`paste ファイル名...`|ファイルの内容を、行ごと水平方向に連結して表示する。|

### head, tail

- オプション

  | オプション         | 概要                                                       |
  | ------------------ | ---------------------------------------------------------- |
  | `-n 行数`, `-行数` | 表示する行数を変更する。（デフォルトは10行）               |
  | `-f`               | ファイル更新に応じて出力を続ける。                         |
  | `-F`               | ファイル更新に応じて出力を続ける。（リネームなどにも対応） |

### nl

- オプション

  |オプション|概要|
  |---|---|
  |`-b タイプ`|表示方法を変更できる。|
  |`-b a`|空行でも行番号を数える。|

## 形式変換表示

### iconv

- コマンド

  |コマンド|概要|
  |---|---|
  |`iconv [ファイル名...]`|ファイルの文字コードを変換する。|

- オプション

  | オプション                   | 概要                           |
  | ---------------------------- | ------------------------------ |
  | `-f, --from-code 文字コード` | 変換前の文字コードを指定する。 |
  | `-t, --to-code 文字コード`   | 変換後の文字コードを指定する。 |

### od

- コマンド

  |コマンド|概要|
  |---|---|
  |`od ファイル名`|バイナリファイルの内容を、8進数で表示する。|

### base64

- コマンド

  |コマンド|概要|
  |---|---|
  |`base64 [ファイル名]`|ファイルまたは標準入力を、BASE64形式でエンコードして標準出力する。|

- オプション

  | オプション | 概要                                               |
  | ---------- | -------------------------------------------------- |
  | `-d`       | デコードを行う。（デフォルトではエンコードを行う） |

## 並び替え

### 共通

- コマンド

  |コマンド|概要|
  |---|---|
  |`tac ファイル名`|ファイルの内容を、最終行から逆順に表示する。|
  |`shuf ファイル名`|ファイルの内容を、行をシャッフルして表示する。|
  |`sort [ファイル名...]`|ファイルの内容を、行単位で並び替えて表示する。|
  |`uniq ファイル`|**ソート済みのファイル**で、重複行を取り除く。|

### sort

- オプション

  | オプション | 概要                       |
  | ---------- | -------------------------- |
  | `-r`       | 逆順に並び替える。         |
  | `-b`       | 行頭の空白を無視する。     |
  | `-f`       | 大文字小文字を区別しない。 |

### uniq

- オプション

  | オプション | 概要                     |
  | ---------- | ------------------------ |
  | `-c`       | 重複した行数も表示する。 |

## サマリー

### 共通

- コマンド

  |コマンド|概要|
  |---|---|
  |`file ファイル名`|ファイルの内容をもとに、ファイルの形式を表示する。|
  |`wc ファイル名`|指定したファイルの行数、単語数、バイト数を表示する。|
  |`md5sum [ファイル名]`<br />`shaXXsum [ファイル名]`|入力のハッシュ値を算出する。|

### md5sum, shaXXsum

- 以下の順で、計算が遅く、安全性が高くなる。

  - md5sum
  - sha1sum
  - sha224sum
  - sha256sum
  - sha384sum
  - sha512sum

## 特殊な読み込み

### read

- コマンド

  |コマンド|概要|
  |---|---|
  |`read 変数名...`|標準入力を1行読み取って、区切り文字`IFS`で分割し、各変数に代入する。<br />入力が多かった場合は、最後の変数にまとめて代入される。|
  |`read -a 変数名`|標準入力を1行読み取って、区切り文字`IFS`で分割し、配列として変数に代入する。|

- オプション

  |オプション|概要|
  |---|---|
  |`-r`|エスケープ文字をそのまま読み取る。|
  |`-p プロンプト`|入力前にプロンプトを出力する。|

- 文字分割を無効化する（スペースなどをそのまま読み取る）ためには、区切り文字`IFS`を空文字にするとよい。

  ```bash
  while IFS= read -r line; do
    処理
  done
  ```

### peco

- コマンド

  |コマンド|概要|
  |---|---|
  |`peco [ファイル名]`|ファイルまたは標準入力を対話的にフィルタリングし、標準出力する。|

- `Ctrl + Space`で、行を選択し次の行に進む。

  - Macで選択できない場合は、下記を参考。
    [[Mac] peco で複数選択ができないときの対処法 - Qiita](https://qiita.com/noraworld/items/6143e54dc844719eccde)

- [peco/peco: Simplistic interactive filtering tool](https://github.com/peco/peco)
