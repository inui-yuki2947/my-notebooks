# ファイル内容処理

## 単純表示

### cat

- `cat`コマンドは、ファイルの内容を表示する。

  ```bash
  cat [ファイル名...]
  ```

- ファイルを複数指定した場合は、内容を連結して表示する。

### head, tail

- `head, tail`コマンドは、ファイルの先頭・末尾の行を表示する。

  ```bash
  head [ファイル名...]
  ```

- オプション

  | オプション         | 概要                                                       |
  | ------------------ | ---------------------------------------------------------- |
  | `-n 行数`, `-行数` | 表示する行数を変更する。（デフォルトは10行）               |
  | `-f`               | ファイル更新に応じて出力を続ける。                         |
  | `-F`               | ファイル更新に応じて出力を続ける。（リネームなどにも対応） |

### nl

- `nl`コマンドは、ファイルの内容を、行番号付きで表示する。

  ```bash
  nl [ファイル名...]
  ```

- `-b タイプ`オプションで、表示方法を変更できる。

  - `-b a`オプションで、空行でも行番号を数える。

### paste

- `paste`コマンドは、ファイルの内容を、行ごと水平方向に連結して表示する。

  ```bash
  paste ファイル名...
  ```

## 形式変換表示

### iconv

- `iconv`コマンドは、ファイルの文字コードを変換する。

  ```bash
  iconv [ファイル名...]
  ```

- オプション

  | オプション                   | 概要                           |
  | ---------------------------- | ------------------------------ |
  | `-f, --from-code 文字コード` | 変換前の文字コードを指定する。 |
  | `-t, --to-code 文字コード`   | 変換後の文字コードを指定する。 |

### od

- `od`コマンドは、バイナリファイルの内容を、8進数で表示する。

  ```bash
  od ファイル名
  ```

### base64

- `base64`コマンドは、ファイルまたは標準入力を、BASE64形式でエンコード・デコードして、標準出力する。

  ```bash
  base64 [ファイル名]
  ```

- デフォルトではエンコードを行うが、`-d`オプションでデコードを行う。

## 並び替え

### tac

- `tac`コマンドは、ファイルの内容を、最終行から逆順に表示する。

  ```bash
  tac ファイル名
  ```

### shuf

- `shuf`コマンドは、ファイルの内容を、行をシャッフルして表示する。

  ```bash
  shuf ファイル名
  ```

### sort

- `sort`コマンドは、ファイルを行単位で並び替える。

  ```bash
  sort [ファイル名...]
  ```

- オプション

  | オプション | 概要                       |
  | ---------- | -------------------------- |
  | `-r`       | 逆順に並び替える。         |
  | `-b`       | 行頭の空白を無視する。     |
  | `-f`       | 大文字小文字を区別しない。 |

### uniq

- `uniq`コマンドは、**ソート済みのファイル**で、重複行を取り除く。

  ```bash
  uniq ファイル
  ```

## サマリー

### file

- `file`コマンドは、ファイルの内容をもとに、ファイルの形式を表示する。

  ```bash
  file ファイル名
  ```

### wc

- `wc`コマンドは、指定したファイルの行数、単語数、バイト数を表示する。

  ```bash
  wc ファイル名
  ```

### md5sum, shaXXsum

- `md5sum, shaXXsum`コマンドは、入力のハッシュ値を算出する。

  ```bash
  md5sum [ファイル名]
  ```

- 以下の順で、計算が遅く、安全性が高くなる。

  - md5sum
  - sha1sum
  - sha224sum
  - sha256sum
  - sha384sum
  - sha512sum

## 特殊な読み込み

### read

- `read`コマンドは、**標準入力から1行分**文字列を読み取って、変数に代入する。

  ```bash
  read [代入する変数]
  ```

- `-r`オプションで、エスケープ文字をそのまま読み取る。

- スペースをそのまま読み取るために、環境変数`IFS`を空文字にするとよい。

  ```bash
  while IFS= read -r line; do
    処理
  done
  ```

### peco

- [peco/peco: Simplistic interactive filtering tool](https://github.com/peco/peco)

- `peco`コマンドは、ファイルまたは標準入力を対話的にフィルタリングし、標準出力する。

  ```bash
  peco [ファイル名]
  ```

- `Ctrl + Space`で、行を選択し次の行に進む。

  - Macで選択できない場合は、下記を参考。
    [[Mac] peco で複数選択ができないときの対処法 - Qiita](https://qiita.com/noraworld/items/6143e54dc844719eccde)
